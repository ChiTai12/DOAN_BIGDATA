(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Za(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ec={exports:{}},co={},tc={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=Symbol.for("react.element"),rh=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),oh=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),lh=Symbol.for("react.provider"),uh=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),dh=Symbol.for("react.memo"),fh=Symbol.for("react.lazy"),wu=Symbol.iterator;function hh(e){return e===null||typeof e!="object"?null:(e=wu&&e[wu]||e["@@iterator"],typeof e=="function"?e:null)}var nc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rc=Object.assign,sc={};function Yn(e,t,n){this.props=e,this.context=t,this.refs=sc,this.updater=n||nc}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oc(){}oc.prototype=Yn.prototype;function gl(e,t,n){this.props=e,this.context=t,this.refs=sc,this.updater=n||nc}var yl=gl.prototype=new oc;yl.constructor=gl;rc(yl,Yn.prototype);yl.isPureReactComponent=!0;var xu=Array.isArray,ic=Object.prototype.hasOwnProperty,vl={current:null},lc={key:!0,ref:!0,__self:!0,__source:!0};function uc(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)ic.call(t,r)&&!lc.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var a=Array(u),c=0;c<u;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:Wr,type:e,key:o,ref:i,props:s,_owner:vl.current}}function ph(e,t){return{$$typeof:Wr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wr}function mh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cu=/\/+/g;function To(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mh(""+e.key):t.toString(36)}function xs(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Wr:case rh:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+To(i,0):r,xu(s)?(n="",e!=null&&(n=e.replace(Cu,"$&/")+"/"),xs(s,t,n,"",function(c){return c})):s!=null&&(wl(s)&&(s=ph(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Cu,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",xu(e))for(var u=0;u<e.length;u++){o=e[u];var a=r+To(o,u);i+=xs(o,t,n,a,s)}else if(a=hh(e),typeof a=="function")for(e=a.call(e),u=0;!(o=e.next()).done;)o=o.value,a=r+To(o,u++),i+=xs(o,t,n,a,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function es(e,t,n){if(e==null)return e;var r=[],s=0;return xs(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Dh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},Cs={transition:null},gh={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:vl};function ac(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:es,forEach:function(e,t,n){es(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return es(e,function(){t++}),t},toArray:function(e){return es(e,function(t){return t})||[]},only:function(e){if(!wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Yn;J.Fragment=sh;J.Profiler=ih;J.PureComponent=gl;J.StrictMode=oh;J.Suspense=ch;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gh;J.act=ac;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rc({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=vl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(a in t)ic.call(t,a)&&!lc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:Wr,type:e.type,key:s,ref:o,props:r,_owner:i}};J.createContext=function(e){return e={$$typeof:uh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lh,_context:e},e.Consumer=e};J.createElement=uc;J.createFactory=function(e){var t=uc.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:ah,render:e}};J.isValidElement=wl;J.lazy=function(e){return{$$typeof:fh,_payload:{_status:-1,_result:e},_init:Dh}};J.memo=function(e,t){return{$$typeof:dh,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Cs.transition;Cs.transition={};try{e()}finally{Cs.transition=t}};J.unstable_act=ac;J.useCallback=function(e,t){return Re.current.useCallback(e,t)};J.useContext=function(e){return Re.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};J.useEffect=function(e,t){return Re.current.useEffect(e,t)};J.useId=function(){return Re.current.useId()};J.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Re.current.useMemo(e,t)};J.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};J.useRef=function(e){return Re.current.useRef(e)};J.useState=function(e){return Re.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Re.current.useTransition()};J.version="18.3.1";tc.exports=J;var k=tc.exports;const Mt=Za(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=k,vh=Symbol.for("react.element"),wh=Symbol.for("react.fragment"),xh=Object.prototype.hasOwnProperty,Ch=yh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Eh={key:!0,ref:!0,__self:!0,__source:!0};function cc(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)xh.call(t,r)&&!Eh.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:vh,type:e,key:o,ref:i,props:s,_owner:Ch.current}}co.Fragment=wh;co.jsx=cc;co.jsxs=cc;ec.exports=co;var l=ec.exports,hi={},dc={exports:{}},qe={},fc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,b){var B=F.length;F.push(b);e:for(;0<B;){var I=B-1>>>1,P=F[I];if(0<s(P,b))F[I]=b,F[B]=P,B=I;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var b=F[0],B=F.pop();if(B!==b){F[0]=B;e:for(var I=0,P=F.length,V=P>>>1;I<V;){var q=2*(I+1)-1,G=F[q],de=q+1,rt=F[de];if(0>s(G,B))de<P&&0>s(rt,G)?(F[I]=rt,F[de]=B,I=de):(F[I]=G,F[q]=B,I=q);else if(de<P&&0>s(rt,B))F[I]=rt,F[de]=B,I=de;else break e}}return b}function s(F,b){var B=F.sortIndex-b.sortIndex;return B!==0?B:F.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,u=i.now();e.unstable_now=function(){return i.now()-u}}var a=[],c=[],p=1,h=null,D=3,y=!1,m=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(F){for(var b=n(c);b!==null;){if(b.callback===null)r(c);else if(b.startTime<=F)r(c),b.sortIndex=b.expirationTime,t(a,b);else break;b=n(c)}}function w(F){if(v=!1,f(F),!m)if(n(a)!==null)m=!0,$(x);else{var b=n(c);b!==null&&_(w,b.startTime-F)}}function x(F,b){m=!1,v&&(v=!1,g(j),j=-1),y=!0;var B=D;try{for(f(b),h=n(a);h!==null&&(!(h.expirationTime>b)||F&&!Q());){var I=h.callback;if(typeof I=="function"){h.callback=null,D=h.priorityLevel;var P=I(h.expirationTime<=b);b=e.unstable_now(),typeof P=="function"?h.callback=P:h===n(a)&&r(a),f(b)}else r(a);h=n(a)}if(h!==null)var V=!0;else{var q=n(c);q!==null&&_(w,q.startTime-b),V=!1}return V}finally{h=null,D=B,y=!1}}var C=!1,S=null,j=-1,R=5,O=-1;function Q(){return!(e.unstable_now()-O<R)}function ge(){if(S!==null){var F=e.unstable_now();O=F;var b=!0;try{b=S(!0,F)}finally{b?ee():(C=!1,S=null)}}else C=!1}var ee;if(typeof d=="function")ee=function(){d(ge)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ne=z.port2;z.port1.onmessage=ge,ee=function(){ne.postMessage(null)}}else ee=function(){N(ge,0)};function $(F){S=F,C||(C=!0,ee())}function _(F,b){j=N(function(){F(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){m||y||(m=!0,$(x))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(F){switch(D){case 1:case 2:case 3:var b=3;break;default:b=D}var B=D;D=b;try{return F()}finally{D=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,b){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var B=D;D=F;try{return b()}finally{D=B}},e.unstable_scheduleCallback=function(F,b,B){var I=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?I+B:I):B=I,F){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=B+P,F={id:p++,callback:b,priorityLevel:F,startTime:B,expirationTime:P,sortIndex:-1},B>I?(F.sortIndex=B,t(c,F),n(a)===null&&F===n(c)&&(v?(g(j),j=-1):v=!0,_(w,B-I))):(F.sortIndex=P,t(a,F),m||y||(m=!0,$(x))),F},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(F){var b=D;return function(){var B=D;D=b;try{return F.apply(this,arguments)}finally{D=B}}}})(hc);fc.exports=hc;var Fh=fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=k,We=Fh;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pc=new Set,jr={};function wn(e,t){$n(e,t),$n(e+"Capture",t)}function $n(e,t){for(jr[e]=t,e=0;e<t.length;e++)pc.add(t[e])}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=Object.prototype.hasOwnProperty,Sh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Eu={},Fu={};function Nh(e){return pi.call(Fu,e)?!0:pi.call(Eu,e)?!1:Sh.test(e)?Fu[e]=!0:(Eu[e]=!0,!1)}function jh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bh(e,t,n,r){if(t===null||typeof t>"u"||jh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var xl=/[\-:]([a-z])/g;function Cl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xl,Cl);Fe[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xl,Cl);Fe[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xl,Cl);Fe[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function El(e,t,n,r){var s=Fe.hasOwnProperty(t)?Fe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bh(t,n,s,r)&&(n=null),r||s===null?Nh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bt=kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ts=Symbol.for("react.element"),Fn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),Fl=Symbol.for("react.strict_mode"),mi=Symbol.for("react.profiler"),mc=Symbol.for("react.provider"),Dc=Symbol.for("react.context"),kl=Symbol.for("react.forward_ref"),Di=Symbol.for("react.suspense"),gi=Symbol.for("react.suspense_list"),Sl=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),gc=Symbol.for("react.offscreen"),ku=Symbol.iterator;function rr(e){return e===null||typeof e!="object"?null:(e=ku&&e[ku]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Lo;function hr(e){if(Lo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lo=t&&t[1]||""}return`
`+Lo+e}var Po=!1;function Oo(e,t){if(!e||Po)return"";Po=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,u=o.length-1;1<=i&&0<=u&&s[i]!==o[u];)u--;for(;1<=i&&0<=u;i--,u--)if(s[i]!==o[u]){if(i!==1||u!==1)do if(i--,u--,0>u||s[i]!==o[u]){var a=`
`+s[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=u);break}}}finally{Po=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hr(e):""}function _h(e){switch(e.tag){case 5:return hr(e.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 2:case 15:return e=Oo(e.type,!1),e;case 11:return e=Oo(e.type.render,!1),e;case 1:return e=Oo(e.type,!0),e;default:return""}}function yi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kn:return"Fragment";case Fn:return"Portal";case mi:return"Profiler";case Fl:return"StrictMode";case Di:return"Suspense";case gi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dc:return(e.displayName||"Context")+".Consumer";case mc:return(e._context.displayName||"Context")+".Provider";case kl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sl:return t=e.displayName||null,t!==null?t:yi(e.type)||"Memo";case Lt:t=e._payload,e=e._init;try{return yi(e(t))}catch{}}return null}function Bh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yi(t);case 8:return t===Fl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ah(e){var t=yc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){e._valueTracker||(e._valueTracker=Ah(e))}function vc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Us(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vi(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Su(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wc(e,t){t=t.checked,t!=null&&El(e,"checked",t,!1)}function wi(e,t){wc(e,t);var n=Gt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xi(e,t.type,n):t.hasOwnProperty("defaultValue")&&xi(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xi(e,t,n){(t!=="number"||Us(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pr=Array.isArray;function Pn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ci(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ju(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(pr(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gt(n)}}function xc(e,t){var n=Gt(t.value),r=Gt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ei(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,Ec=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rh=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(e){Rh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yr[t]=yr[e]})});function Fc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yr.hasOwnProperty(e)&&yr[e]?(""+t).trim():t+"px"}function kc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Th=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fi(e,t){if(t){if(Th[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function ki(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Si=null;function Nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,On=null,In=null;function _u(e){if(e=Qr(e)){if(typeof Ni!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Do(t),Ni(e.stateNode,e.type,t))}}function Sc(e){On?In?In.push(e):In=[e]:On=e}function Nc(){if(On){var e=On,t=In;if(In=On=null,_u(e),t)for(e=0;e<t.length;e++)_u(t[e])}}function jc(e,t){return e(t)}function bc(){}var Io=!1;function _c(e,t,n){if(Io)return e(t,n);Io=!0;try{return jc(e,t,n)}finally{Io=!1,(On!==null||In!==null)&&(bc(),Nc())}}function _r(e,t){var n=e.stateNode;if(n===null)return null;var r=Do(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var ji=!1;if(Nt)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){ji=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{ji=!1}function Lh(e,t,n,r,s,o,i,u,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var vr=!1,zs=null,Ms=!1,bi=null,Ph={onError:function(e){vr=!0,zs=e}};function Oh(e,t,n,r,s,o,i,u,a){vr=!1,zs=null,Lh.apply(Ph,arguments)}function Ih(e,t,n,r,s,o,i,u,a){if(Oh.apply(this,arguments),vr){if(vr){var c=zs;vr=!1,zs=null}else throw Error(A(198));Ms||(Ms=!0,bi=c)}}function xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bu(e){if(xn(e)!==e)throw Error(A(188))}function Uh(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Bu(s),e;if(o===r)return Bu(s),t;o=o.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,u=s.child;u;){if(u===n){i=!0,n=s,r=o;break}if(u===r){i=!0,r=s,n=o;break}u=u.sibling}if(!i){for(u=o.child;u;){if(u===n){i=!0,n=o,r=s;break}if(u===r){i=!0,r=o,n=s;break}u=u.sibling}if(!i)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Ac(e){return e=Uh(e),e!==null?Rc(e):null}function Rc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rc(e);if(t!==null)return t;e=e.sibling}return null}var Tc=We.unstable_scheduleCallback,Au=We.unstable_cancelCallback,zh=We.unstable_shouldYield,Mh=We.unstable_requestPaint,he=We.unstable_now,$h=We.unstable_getCurrentPriorityLevel,jl=We.unstable_ImmediatePriority,Lc=We.unstable_UserBlockingPriority,$s=We.unstable_NormalPriority,Hh=We.unstable_LowPriority,Pc=We.unstable_IdlePriority,fo=null,yt=null;function Vh(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(fo,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Kh,Wh=Math.log,qh=Math.LN2;function Kh(e){return e>>>=0,e===0?32:31-(Wh(e)/qh|0)|0}var ss=64,os=4194304;function mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var u=i&~s;u!==0?r=mr(u):(o&=i,o!==0&&(r=mr(o)))}else i=n&~s,i!==0?r=mr(i):o!==0&&(r=mr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),s=1<<n,r|=e[n],t&=~s;return r}function Qh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ct(o),u=1<<i,a=s[i];a===-1?(!(u&n)||u&r)&&(s[i]=Qh(u,t)):a<=t&&(e.expiredLanes|=u),o&=~u}}function _i(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oc(){var e=ss;return ss<<=1,!(ss&4194240)&&(ss=64),e}function Uo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function Xh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ct(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function bl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var te=0;function Ic(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uc,_l,zc,Mc,$c,Bi=!1,is=[],$t=null,Ht=null,Vt=null,Br=new Map,Ar=new Map,Ot=[],Yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function or(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Qr(t),t!==null&&_l(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Gh(e,t,n,r,s){switch(t){case"focusin":return $t=or($t,e,t,n,r,s),!0;case"dragenter":return Ht=or(Ht,e,t,n,r,s),!0;case"mouseover":return Vt=or(Vt,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Br.set(o,or(Br.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ar.set(o,or(Ar.get(o)||null,e,t,n,r,s)),!0}return!1}function Hc(e){var t=ln(e.target);if(t!==null){var n=xn(t);if(n!==null){if(t=n.tag,t===13){if(t=Bc(n),t!==null){e.blockedOn=t,$c(e.priority,function(){zc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Es(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ai(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Si=r,n.target.dispatchEvent(r),Si=null}else return t=Qr(n),t!==null&&_l(t),e.blockedOn=n,!1;t.shift()}return!0}function Tu(e,t,n){Es(e)&&n.delete(t)}function Zh(){Bi=!1,$t!==null&&Es($t)&&($t=null),Ht!==null&&Es(Ht)&&(Ht=null),Vt!==null&&Es(Vt)&&(Vt=null),Br.forEach(Tu),Ar.forEach(Tu)}function ir(e,t){e.blockedOn===t&&(e.blockedOn=null,Bi||(Bi=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Zh)))}function Rr(e){function t(s){return ir(s,e)}if(0<is.length){ir(is[0],e);for(var n=1;n<is.length;n++){var r=is[n];r.blockedOn===e&&(r.blockedOn=null)}}for($t!==null&&ir($t,e),Ht!==null&&ir(Ht,e),Vt!==null&&ir(Vt,e),Br.forEach(t),Ar.forEach(t),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)Hc(n),n.blockedOn===null&&Ot.shift()}var Un=Bt.ReactCurrentBatchConfig,Vs=!0;function ep(e,t,n,r){var s=te,o=Un.transition;Un.transition=null;try{te=1,Bl(e,t,n,r)}finally{te=s,Un.transition=o}}function tp(e,t,n,r){var s=te,o=Un.transition;Un.transition=null;try{te=4,Bl(e,t,n,r)}finally{te=s,Un.transition=o}}function Bl(e,t,n,r){if(Vs){var s=Ai(e,t,n,r);if(s===null)Jo(e,t,r,Ws,n),Ru(e,r);else if(Gh(s,e,t,n,r))r.stopPropagation();else if(Ru(e,r),t&4&&-1<Yh.indexOf(e)){for(;s!==null;){var o=Qr(s);if(o!==null&&Uc(o),o=Ai(e,t,n,r),o===null&&Jo(e,t,r,Ws,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Jo(e,t,r,null,n)}}var Ws=null;function Ai(e,t,n,r){if(Ws=null,e=Nl(r),e=ln(e),e!==null)if(t=xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ws=e,null}function Vc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($h()){case jl:return 1;case Lc:return 4;case $s:case Hh:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var Ut=null,Al=null,Fs=null;function Wc(){if(Fs)return Fs;var e,t=Al,n=t.length,r,s="value"in Ut?Ut.value:Ut.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Fs=s.slice(e,1<r?1-r:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function Lu(){return!1}function Ke(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ls:Lu,this.isPropagationStopped=Lu,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Ke(Gn),Kr=ce({},Gn,{view:0,detail:0}),np=Ke(Kr),zo,Mo,lr,ho=ce({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&e.type==="mousemove"?(zo=e.screenX-lr.screenX,Mo=e.screenY-lr.screenY):Mo=zo=0,lr=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:Mo}}),Pu=Ke(ho),rp=ce({},ho,{dataTransfer:0}),sp=Ke(rp),op=ce({},Kr,{relatedTarget:0}),$o=Ke(op),ip=ce({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),lp=Ke(ip),up=ce({},Gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ap=Ke(up),cp=ce({},Gn,{data:0}),Ou=Ke(cp),dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hp[e])?!!t[e]:!1}function Tl(){return pp}var mp=ce({},Kr,{key:function(e){if(e.key){var t=dp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dp=Ke(mp),gp=ce({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=Ke(gp),yp=ce({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),vp=Ke(yp),wp=ce({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xp=Ke(wp),Cp=ce({},ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ep=Ke(Cp),Fp=[9,13,27,32],Ll=Nt&&"CompositionEvent"in window,wr=null;Nt&&"documentMode"in document&&(wr=document.documentMode);var kp=Nt&&"TextEvent"in window&&!wr,qc=Nt&&(!Ll||wr&&8<wr&&11>=wr),Uu=" ",zu=!1;function Kc(e,t){switch(e){case"keyup":return Fp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function Sp(e,t){switch(e){case"compositionend":return Qc(t);case"keypress":return t.which!==32?null:(zu=!0,Uu);case"textInput":return e=t.data,e===Uu&&zu?null:e;default:return null}}function Np(e,t){if(Sn)return e==="compositionend"||!Ll&&Kc(e,t)?(e=Wc(),Fs=Al=Ut=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qc&&t.locale!=="ko"?null:t.data;default:return null}}var jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jp[e.type]:t==="textarea"}function Jc(e,t,n,r){Sc(r),t=qs(t,"onChange"),0<t.length&&(n=new Rl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xr=null,Tr=null;function bp(e){id(e,0)}function po(e){var t=bn(e);if(vc(t))return e}function _p(e,t){if(e==="change")return t}var Xc=!1;if(Nt){var Ho;if(Nt){var Vo="oninput"in document;if(!Vo){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Vo=typeof $u.oninput=="function"}Ho=Vo}else Ho=!1;Xc=Ho&&(!document.documentMode||9<document.documentMode)}function Hu(){xr&&(xr.detachEvent("onpropertychange",Yc),Tr=xr=null)}function Yc(e){if(e.propertyName==="value"&&po(Tr)){var t=[];Jc(t,Tr,e,Nl(e)),_c(bp,t)}}function Bp(e,t,n){e==="focusin"?(Hu(),xr=t,Tr=n,xr.attachEvent("onpropertychange",Yc)):e==="focusout"&&Hu()}function Ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(Tr)}function Rp(e,t){if(e==="click")return po(t)}function Tp(e,t){if(e==="input"||e==="change")return po(t)}function Lp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:Lp;function Lr(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pi.call(t,s)||!ft(e[s],t[s]))return!1}return!0}function Vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wu(e,t){var n=Vu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vu(n)}}function Gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zc(){for(var e=window,t=Us();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Us(e.document)}return t}function Pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pp(e){var t=Zc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gc(n.ownerDocument.documentElement,n)){if(r!==null&&Pl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Wu(n,o);var i=Wu(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Op=Nt&&"documentMode"in document&&11>=document.documentMode,Nn=null,Ri=null,Cr=null,Ti=!1;function qu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ti||Nn==null||Nn!==Us(r)||(r=Nn,"selectionStart"in r&&Pl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cr&&Lr(Cr,r)||(Cr=r,r=qs(Ri,"onSelect"),0<r.length&&(t=new Rl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nn)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jn={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Wo={},ed={};Nt&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function mo(e){if(Wo[e])return Wo[e];if(!jn[e])return e;var t=jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ed)return Wo[e]=t[n];return e}var td=mo("animationend"),nd=mo("animationiteration"),rd=mo("animationstart"),sd=mo("transitionend"),od=new Map,Ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){od.set(e,t),wn(t,[e])}for(var qo=0;qo<Ku.length;qo++){var Ko=Ku[qo],Ip=Ko.toLowerCase(),Up=Ko[0].toUpperCase()+Ko.slice(1);en(Ip,"on"+Up)}en(td,"onAnimationEnd");en(nd,"onAnimationIteration");en(rd,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(sd,"onTransitionEnd");$n("onMouseEnter",["mouseout","mouseover"]);$n("onMouseLeave",["mouseout","mouseover"]);$n("onPointerEnter",["pointerout","pointerover"]);$n("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Qu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ih(r,t,void 0,e),e.currentTarget=null}function id(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var u=r[i],a=u.instance,c=u.currentTarget;if(u=u.listener,a!==o&&s.isPropagationStopped())break e;Qu(s,u,c),o=a}else for(i=0;i<r.length;i++){if(u=r[i],a=u.instance,c=u.currentTarget,u=u.listener,a!==o&&s.isPropagationStopped())break e;Qu(s,u,c),o=a}}}if(Ms)throw e=bi,Ms=!1,bi=null,e}function oe(e,t){var n=t[Ui];n===void 0&&(n=t[Ui]=new Set);var r=e+"__bubble";n.has(r)||(ld(t,e,2,!1),n.add(r))}function Qo(e,t,n){var r=0;t&&(r|=4),ld(n,e,r,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){if(!e[as]){e[as]=!0,pc.forEach(function(n){n!=="selectionchange"&&(zp.has(n)||Qo(n,!1,e),Qo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,Qo("selectionchange",!1,t))}}function ld(e,t,n,r){switch(Vc(t)){case 1:var s=ep;break;case 4:s=tp;break;default:s=Bl}n=s.bind(null,t,n,e),s=void 0,!ji||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Jo(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;i=i.return}for(;u!==null;){if(i=ln(u),i===null)return;if(a=i.tag,a===5||a===6){r=o=i;continue e}u=u.parentNode}}r=r.return}_c(function(){var c=o,p=Nl(n),h=[];e:{var D=od.get(e);if(D!==void 0){var y=Rl,m=e;switch(e){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":y=Dp;break;case"focusin":m="focus",y=$o;break;case"focusout":m="blur",y=$o;break;case"beforeblur":case"afterblur":y=$o;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=vp;break;case td:case nd:case rd:y=lp;break;case sd:y=xp;break;case"scroll":y=np;break;case"wheel":y=Ep;break;case"copy":case"cut":case"paste":y=ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Iu}var v=(t&4)!==0,N=!v&&e==="scroll",g=v?D!==null?D+"Capture":null:D;v=[];for(var d=c,f;d!==null;){f=d;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,g!==null&&(w=_r(d,g),w!=null&&v.push(Or(d,w,f)))),N)break;d=d.return}0<v.length&&(D=new y(D,m,null,n,p),h.push({event:D,listeners:v}))}}if(!(t&7)){e:{if(D=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",D&&n!==Si&&(m=n.relatedTarget||n.fromElement)&&(ln(m)||m[jt]))break e;if((y||D)&&(D=p.window===p?p:(D=p.ownerDocument)?D.defaultView||D.parentWindow:window,y?(m=n.relatedTarget||n.toElement,y=c,m=m?ln(m):null,m!==null&&(N=xn(m),m!==N||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=c),y!==m)){if(v=Pu,w="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=Iu,w="onPointerLeave",g="onPointerEnter",d="pointer"),N=y==null?D:bn(y),f=m==null?D:bn(m),D=new v(w,d+"leave",y,n,p),D.target=N,D.relatedTarget=f,w=null,ln(p)===c&&(v=new v(g,d+"enter",m,n,p),v.target=f,v.relatedTarget=N,w=v),N=w,y&&m)t:{for(v=y,g=m,d=0,f=v;f;f=En(f))d++;for(f=0,w=g;w;w=En(w))f++;for(;0<d-f;)v=En(v),d--;for(;0<f-d;)g=En(g),f--;for(;d--;){if(v===g||g!==null&&v===g.alternate)break t;v=En(v),g=En(g)}v=null}else v=null;y!==null&&Ju(h,D,y,v,!1),m!==null&&N!==null&&Ju(h,N,m,v,!0)}}e:{if(D=c?bn(c):window,y=D.nodeName&&D.nodeName.toLowerCase(),y==="select"||y==="input"&&D.type==="file")var x=_p;else if(Mu(D))if(Xc)x=Tp;else{x=Ap;var C=Bp}else(y=D.nodeName)&&y.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(x=Rp);if(x&&(x=x(e,c))){Jc(h,x,n,p);break e}C&&C(e,D,c),e==="focusout"&&(C=D._wrapperState)&&C.controlled&&D.type==="number"&&xi(D,"number",D.value)}switch(C=c?bn(c):window,e){case"focusin":(Mu(C)||C.contentEditable==="true")&&(Nn=C,Ri=c,Cr=null);break;case"focusout":Cr=Ri=Nn=null;break;case"mousedown":Ti=!0;break;case"contextmenu":case"mouseup":case"dragend":Ti=!1,qu(h,n,p);break;case"selectionchange":if(Op)break;case"keydown":case"keyup":qu(h,n,p)}var S;if(Ll)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Sn?Kc(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(qc&&n.locale!=="ko"&&(Sn||j!=="onCompositionStart"?j==="onCompositionEnd"&&Sn&&(S=Wc()):(Ut=p,Al="value"in Ut?Ut.value:Ut.textContent,Sn=!0)),C=qs(c,j),0<C.length&&(j=new Ou(j,e,null,n,p),h.push({event:j,listeners:C}),S?j.data=S:(S=Qc(n),S!==null&&(j.data=S)))),(S=kp?Sp(e,n):Np(e,n))&&(c=qs(c,"onBeforeInput"),0<c.length&&(p=new Ou("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:c}),p.data=S))}id(h,t)})}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=_r(e,n),o!=null&&r.unshift(Or(e,o,s)),o=_r(e,t),o!=null&&r.push(Or(e,o,s))),e=e.return}return r}function En(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ju(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var u=n,a=u.alternate,c=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&c!==null&&(u=c,s?(a=_r(n,o),a!=null&&i.unshift(Or(n,a,u))):s||(a=_r(n,o),a!=null&&i.push(Or(n,a,u)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Mp=/\r\n?/g,$p=/\u0000|\uFFFD/g;function Xu(e){return(typeof e=="string"?e:""+e).replace(Mp,`
`).replace($p,"")}function cs(e,t,n){if(t=Xu(t),Xu(e)!==t&&n)throw Error(A(425))}function Ks(){}var Li=null,Pi=null;function Oi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ii=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,Vp=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(Wp)}:Ii;function Wp(e){setTimeout(function(){throw e})}function Xo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Rr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rr(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Zn,Ir="__reactProps$"+Zn,jt="__reactContainer$"+Zn,Ui="__reactEvents$"+Zn,qp="__reactListeners$"+Zn,Kp="__reactHandles$"+Zn;function ln(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gu(e);e!==null;){if(n=e[gt])return n;e=Gu(e)}return t}e=n,n=e.parentNode}return null}function Qr(e){return e=e[gt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Do(e){return e[Ir]||null}var zi=[],_n=-1;function tn(e){return{current:e}}function ie(e){0>_n||(e.current=zi[_n],zi[_n]=null,_n--)}function se(e,t){_n++,zi[_n]=e.current,e.current=t}var Zt={},be=tn(Zt),Oe=tn(!1),pn=Zt;function Hn(e,t){var n=e.type.contextTypes;if(!n)return Zt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(e){return e=e.childContextTypes,e!=null}function Qs(){ie(Oe),ie(be)}function Zu(e,t,n){if(be.current!==Zt)throw Error(A(168));se(be,t),se(Oe,n)}function ud(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,Bh(e)||"Unknown",s));return ce({},n,r)}function Js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,pn=be.current,se(be,e),se(Oe,Oe.current),!0}function ea(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=ud(e,t,pn),r.__reactInternalMemoizedMergedChildContext=e,ie(Oe),ie(be),se(be,e)):ie(Oe),se(Oe,n)}var Et=null,go=!1,Yo=!1;function ad(e){Et===null?Et=[e]:Et.push(e)}function Qp(e){go=!0,ad(e)}function nn(){if(!Yo&&Et!==null){Yo=!0;var e=0,t=te;try{var n=Et;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Et=null,go=!1}catch(s){throw Et!==null&&(Et=Et.slice(e+1)),Tc(jl,nn),s}finally{te=t,Yo=!1}}return null}var Bn=[],An=0,Xs=null,Ys=0,Je=[],Xe=0,mn=null,Ft=1,kt="";function sn(e,t){Bn[An++]=Ys,Bn[An++]=Xs,Xs=e,Ys=t}function cd(e,t,n){Je[Xe++]=Ft,Je[Xe++]=kt,Je[Xe++]=mn,mn=e;var r=Ft;e=kt;var s=32-ct(r)-1;r&=~(1<<s),n+=1;var o=32-ct(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Ft=1<<32-ct(t)+s|n<<s|r,kt=o+e}else Ft=1<<o|n<<s|r,kt=e}function Ol(e){e.return!==null&&(sn(e,1),cd(e,1,0))}function Il(e){for(;e===Xs;)Xs=Bn[--An],Bn[An]=null,Ys=Bn[--An],Bn[An]=null;for(;e===mn;)mn=Je[--Xe],Je[Xe]=null,kt=Je[--Xe],Je[Xe]=null,Ft=Je[--Xe],Je[Xe]=null}var Ve=null,He=null,le=!1,at=null;function dd(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ta(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,He=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mn!==null?{id:Ft,overflow:kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ve=e,He=null,!0):!1;default:return!1}}function Mi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $i(e){if(le){var t=He;if(t){var n=t;if(!ta(e,t)){if(Mi(e))throw Error(A(418));t=Wt(n.nextSibling);var r=Ve;t&&ta(e,t)?dd(r,n):(e.flags=e.flags&-4097|2,le=!1,Ve=e)}}else{if(Mi(e))throw Error(A(418));e.flags=e.flags&-4097|2,le=!1,Ve=e}}}function na(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function ds(e){if(e!==Ve)return!1;if(!le)return na(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oi(e.type,e.memoizedProps)),t&&(t=He)){if(Mi(e))throw fd(),Error(A(418));for(;t;)dd(e,t),t=Wt(t.nextSibling)}if(na(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){He=Wt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}He=null}}else He=Ve?Wt(e.stateNode.nextSibling):null;return!0}function fd(){for(var e=He;e;)e=Wt(e.nextSibling)}function Vn(){He=Ve=null,le=!1}function Ul(e){at===null?at=[e]:at.push(e)}var Jp=Bt.ReactCurrentBatchConfig;function ur(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var u=s.refs;i===null?delete u[o]:u[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ra(e){var t=e._init;return t(e._payload)}function hd(e){function t(g,d){if(e){var f=g.deletions;f===null?(g.deletions=[d],g.flags|=16):f.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function s(g,d){return g=Jt(g,d),g.index=0,g.sibling=null,g}function o(g,d,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<d?(g.flags|=2,d):f):(g.flags|=2,d)):(g.flags|=1048576,d)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function u(g,d,f,w){return d===null||d.tag!==6?(d=si(f,g.mode,w),d.return=g,d):(d=s(d,f),d.return=g,d)}function a(g,d,f,w){var x=f.type;return x===kn?p(g,d,f.props.children,w,f.key):d!==null&&(d.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Lt&&ra(x)===d.type)?(w=s(d,f.props),w.ref=ur(g,d,f),w.return=g,w):(w=As(f.type,f.key,f.props,null,g.mode,w),w.ref=ur(g,d,f),w.return=g,w)}function c(g,d,f,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==f.containerInfo||d.stateNode.implementation!==f.implementation?(d=oi(f,g.mode,w),d.return=g,d):(d=s(d,f.children||[]),d.return=g,d)}function p(g,d,f,w,x){return d===null||d.tag!==7?(d=fn(f,g.mode,w,x),d.return=g,d):(d=s(d,f),d.return=g,d)}function h(g,d,f){if(typeof d=="string"&&d!==""||typeof d=="number")return d=si(""+d,g.mode,f),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case ts:return f=As(d.type,d.key,d.props,null,g.mode,f),f.ref=ur(g,null,d),f.return=g,f;case Fn:return d=oi(d,g.mode,f),d.return=g,d;case Lt:var w=d._init;return h(g,w(d._payload),f)}if(pr(d)||rr(d))return d=fn(d,g.mode,f,null),d.return=g,d;fs(g,d)}return null}function D(g,d,f,w){var x=d!==null?d.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return x!==null?null:u(g,d,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ts:return f.key===x?a(g,d,f,w):null;case Fn:return f.key===x?c(g,d,f,w):null;case Lt:return x=f._init,D(g,d,x(f._payload),w)}if(pr(f)||rr(f))return x!==null?null:p(g,d,f,w,null);fs(g,f)}return null}function y(g,d,f,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(f)||null,u(d,g,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ts:return g=g.get(w.key===null?f:w.key)||null,a(d,g,w,x);case Fn:return g=g.get(w.key===null?f:w.key)||null,c(d,g,w,x);case Lt:var C=w._init;return y(g,d,f,C(w._payload),x)}if(pr(w)||rr(w))return g=g.get(f)||null,p(d,g,w,x,null);fs(d,w)}return null}function m(g,d,f,w){for(var x=null,C=null,S=d,j=d=0,R=null;S!==null&&j<f.length;j++){S.index>j?(R=S,S=null):R=S.sibling;var O=D(g,S,f[j],w);if(O===null){S===null&&(S=R);break}e&&S&&O.alternate===null&&t(g,S),d=o(O,d,j),C===null?x=O:C.sibling=O,C=O,S=R}if(j===f.length)return n(g,S),le&&sn(g,j),x;if(S===null){for(;j<f.length;j++)S=h(g,f[j],w),S!==null&&(d=o(S,d,j),C===null?x=S:C.sibling=S,C=S);return le&&sn(g,j),x}for(S=r(g,S);j<f.length;j++)R=y(S,g,j,f[j],w),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?j:R.key),d=o(R,d,j),C===null?x=R:C.sibling=R,C=R);return e&&S.forEach(function(Q){return t(g,Q)}),le&&sn(g,j),x}function v(g,d,f,w){var x=rr(f);if(typeof x!="function")throw Error(A(150));if(f=x.call(f),f==null)throw Error(A(151));for(var C=x=null,S=d,j=d=0,R=null,O=f.next();S!==null&&!O.done;j++,O=f.next()){S.index>j?(R=S,S=null):R=S.sibling;var Q=D(g,S,O.value,w);if(Q===null){S===null&&(S=R);break}e&&S&&Q.alternate===null&&t(g,S),d=o(Q,d,j),C===null?x=Q:C.sibling=Q,C=Q,S=R}if(O.done)return n(g,S),le&&sn(g,j),x;if(S===null){for(;!O.done;j++,O=f.next())O=h(g,O.value,w),O!==null&&(d=o(O,d,j),C===null?x=O:C.sibling=O,C=O);return le&&sn(g,j),x}for(S=r(g,S);!O.done;j++,O=f.next())O=y(S,g,j,O.value,w),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?j:O.key),d=o(O,d,j),C===null?x=O:C.sibling=O,C=O);return e&&S.forEach(function(ge){return t(g,ge)}),le&&sn(g,j),x}function N(g,d,f,w){if(typeof f=="object"&&f!==null&&f.type===kn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ts:e:{for(var x=f.key,C=d;C!==null;){if(C.key===x){if(x=f.type,x===kn){if(C.tag===7){n(g,C.sibling),d=s(C,f.props.children),d.return=g,g=d;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Lt&&ra(x)===C.type){n(g,C.sibling),d=s(C,f.props),d.ref=ur(g,C,f),d.return=g,g=d;break e}n(g,C);break}else t(g,C);C=C.sibling}f.type===kn?(d=fn(f.props.children,g.mode,w,f.key),d.return=g,g=d):(w=As(f.type,f.key,f.props,null,g.mode,w),w.ref=ur(g,d,f),w.return=g,g=w)}return i(g);case Fn:e:{for(C=f.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(g,d.sibling),d=s(d,f.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=oi(f,g.mode,w),d.return=g,g=d}return i(g);case Lt:return C=f._init,N(g,d,C(f._payload),w)}if(pr(f))return m(g,d,f,w);if(rr(f))return v(g,d,f,w);fs(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,d!==null&&d.tag===6?(n(g,d.sibling),d=s(d,f),d.return=g,g=d):(n(g,d),d=si(f,g.mode,w),d.return=g,g=d),i(g)):n(g,d)}return N}var Wn=hd(!0),pd=hd(!1),Gs=tn(null),Zs=null,Rn=null,zl=null;function Ml(){zl=Rn=Zs=null}function $l(e){var t=Gs.current;ie(Gs),e._currentValue=t}function Hi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){Zs=e,zl=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pe=!0),e.firstContext=null)}function et(e){var t=e._currentValue;if(zl!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(Zs===null)throw Error(A(308));Rn=e,Zs.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var un=null;function Hl(e){un===null?un=[e]:un.push(e)}function md(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Hl(t)):(n.next=s.next,s.next=n),t.interleaved=n,bt(e,r)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pt=!1;function Vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function St(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,bt(e,n)}return s=r.interleaved,s===null?(t.next=t,Hl(r)):(t.next=s.next,s.next=t),r.interleaved=t,bt(e,n)}function Ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bl(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eo(e,t,n,r){var s=e.updateQueue;Pt=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var a=u,c=a.next;a.next=null,i===null?o=c:i.next=c,i=a;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==i&&(u===null?p.firstBaseUpdate=c:u.next=c,p.lastBaseUpdate=a))}if(o!==null){var h=s.baseState;i=0,p=c=a=null,u=o;do{var D=u.lane,y=u.eventTime;if((r&D)===D){p!==null&&(p=p.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var m=e,v=u;switch(D=t,y=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(y,h,D);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,D=typeof m=="function"?m.call(y,h,D):m,D==null)break e;h=ce({},h,D);break e;case 2:Pt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,D=s.effects,D===null?s.effects=[u]:D.push(u))}else y={eventTime:y,lane:D,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(c=p=y,a=h):p=p.next=y,i|=D;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;D=u,u=D.next,D.next=null,s.lastBaseUpdate=D,s.shared.pending=null}}while(!0);if(p===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);gn|=i,e.lanes=i,e.memoizedState=h}}function oa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var Jr={},vt=tn(Jr),Ur=tn(Jr),zr=tn(Jr);function an(e){if(e===Jr)throw Error(A(174));return e}function Wl(e,t){switch(se(zr,t),se(Ur,e),se(vt,Jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ei(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ei(t,e)}ie(vt),se(vt,t)}function qn(){ie(vt),ie(Ur),ie(zr)}function gd(e){an(zr.current);var t=an(vt.current),n=Ei(t,e.type);t!==n&&(se(Ur,e),se(vt,n))}function ql(e){Ur.current===e&&(ie(vt),ie(Ur))}var ue=tn(0);function to(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Go=[];function Kl(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Ns=Bt.ReactCurrentDispatcher,Zo=Bt.ReactCurrentBatchConfig,Dn=0,ae=null,ye=null,we=null,no=!1,Er=!1,Mr=0,Xp=0;function ke(){throw Error(A(321))}function Ql(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Jl(e,t,n,r,s,o){if(Dn=o,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?em:tm,e=n(r,s),Er){o=0;do{if(Er=!1,Mr=0,25<=o)throw Error(A(301));o+=1,we=ye=null,t.updateQueue=null,Ns.current=nm,e=n(r,s)}while(Er)}if(Ns.current=ro,t=ye!==null&&ye.next!==null,Dn=0,we=ye=ae=null,no=!1,t)throw Error(A(300));return e}function Xl(){var e=Mr!==0;return Mr=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ae.memoizedState=we=e:we=we.next=e,we}function tt(){if(ye===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=we===null?ae.memoizedState:we.next;if(t!==null)we=t,ye=e;else{if(e===null)throw Error(A(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},we===null?ae.memoizedState=we=e:we=we.next=e}return we}function $r(e,t){return typeof t=="function"?t(e):t}function ei(e){var t=tt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=ye,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var u=i=null,a=null,c=o;do{var p=c.lane;if((Dn&p)===p)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(u=a=h,i=r):a=a.next=h,ae.lanes|=p,gn|=p}c=c.next}while(c!==null&&c!==o);a===null?i=r:a.next=u,ft(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ae.lanes|=o,gn|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ti(e){var t=tt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);ft(o,t.memoizedState)||(Pe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function yd(){}function vd(e,t){var n=ae,r=tt(),s=t(),o=!ft(r.memoizedState,s);if(o&&(r.memoizedState=s,Pe=!0),r=r.queue,Yl(Cd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Hr(9,xd.bind(null,n,r,s,t),void 0,null),xe===null)throw Error(A(349));Dn&30||wd(n,t,s)}return s}function wd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xd(e,t,n,r){t.value=n,t.getSnapshot=r,Ed(t)&&Fd(e)}function Cd(e,t,n){return n(function(){Ed(t)&&Fd(e)})}function Ed(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function Fd(e){var t=bt(e,1);t!==null&&dt(t,e,1,-1)}function ia(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:e},t.queue=e,e=e.dispatch=Zp.bind(null,ae,e),[t.memoizedState,e]}function Hr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kd(){return tt().memoizedState}function js(e,t,n,r){var s=Dt();ae.flags|=e,s.memoizedState=Hr(1|t,n,void 0,r===void 0?null:r)}function yo(e,t,n,r){var s=tt();r=r===void 0?null:r;var o=void 0;if(ye!==null){var i=ye.memoizedState;if(o=i.destroy,r!==null&&Ql(r,i.deps)){s.memoizedState=Hr(t,n,o,r);return}}ae.flags|=e,s.memoizedState=Hr(1|t,n,o,r)}function la(e,t){return js(8390656,8,e,t)}function Yl(e,t){return yo(2048,8,e,t)}function Sd(e,t){return yo(4,2,e,t)}function Nd(e,t){return yo(4,4,e,t)}function jd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bd(e,t,n){return n=n!=null?n.concat([e]):null,yo(4,4,jd.bind(null,t,e),n)}function Gl(){}function _d(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ql(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bd(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ql(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ad(e,t,n){return Dn&21?(ft(n,t)||(n=Oc(),ae.lanes|=n,gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pe=!0),e.memoizedState=n)}function Yp(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=Zo.transition;Zo.transition={};try{e(!1),t()}finally{te=n,Zo.transition=r}}function Rd(){return tt().memoizedState}function Gp(e,t,n){var r=Qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Td(e))Ld(t,n);else if(n=md(e,t,n,r),n!==null){var s=Ae();dt(n,e,r,s),Pd(n,t,r)}}function Zp(e,t,n){var r=Qt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Td(e))Ld(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,u=o(i,n);if(s.hasEagerState=!0,s.eagerState=u,ft(u,i)){var a=t.interleaved;a===null?(s.next=s,Hl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=md(e,t,s,r),n!==null&&(s=Ae(),dt(n,e,r,s),Pd(n,t,r))}}function Td(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Ld(e,t){Er=no=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bl(e,n)}}var ro={readContext:et,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},em={readContext:et,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:la,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,js(4194308,4,jd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gp.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:ia,useDebugValue:Gl,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=ia(!1),t=e[0];return e=Yp.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,s=Dt();if(le){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),xe===null)throw Error(A(349));Dn&30||wd(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,la(Cd.bind(null,r,o,e),[e]),r.flags|=2048,Hr(9,xd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dt(),t=xe.identifierPrefix;if(le){var n=kt,r=Ft;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tm={readContext:et,useCallback:_d,useContext:et,useEffect:Yl,useImperativeHandle:bd,useInsertionEffect:Sd,useLayoutEffect:Nd,useMemo:Bd,useReducer:ei,useRef:kd,useState:function(){return ei($r)},useDebugValue:Gl,useDeferredValue:function(e){var t=tt();return Ad(t,ye.memoizedState,e)},useTransition:function(){var e=ei($r)[0],t=tt().memoizedState;return[e,t]},useMutableSource:yd,useSyncExternalStore:vd,useId:Rd,unstable_isNewReconciler:!1},nm={readContext:et,useCallback:_d,useContext:et,useEffect:Yl,useImperativeHandle:bd,useInsertionEffect:Sd,useLayoutEffect:Nd,useMemo:Bd,useReducer:ti,useRef:kd,useState:function(){return ti($r)},useDebugValue:Gl,useDeferredValue:function(e){var t=tt();return ye===null?t.memoizedState=e:Ad(t,ye.memoizedState,e)},useTransition:function(){var e=ti($r)[0],t=tt().memoizedState;return[e,t]},useMutableSource:yd,useSyncExternalStore:vd,useId:Rd,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ae(),s=Qt(e),o=St(r,s);o.payload=t,n!=null&&(o.callback=n),t=qt(e,o,s),t!==null&&(dt(t,e,s,r),Ss(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ae(),s=Qt(e),o=St(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=qt(e,o,s),t!==null&&(dt(t,e,s,r),Ss(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),r=Qt(e),s=St(n,r);s.tag=2,t!=null&&(s.callback=t),t=qt(e,s,r),t!==null&&(dt(t,e,r,n),Ss(t,e,r))}};function ua(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Lr(n,r)||!Lr(s,o):!0}function Od(e,t,n){var r=!1,s=Zt,o=t.contextType;return typeof o=="object"&&o!==null?o=et(o):(s=Ie(t)?pn:be.current,r=t.contextTypes,o=(r=r!=null)?Hn(e,s):Zt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Wi(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Vl(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=et(o):(o=Ie(t)?pn:be.current,s.context=Hn(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Vi(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&vo.enqueueReplaceState(s,s.state,null),eo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",r=t;do n+=_h(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ni(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rm=typeof WeakMap=="function"?WeakMap:Map;function Id(e,t,n){n=St(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oo||(oo=!0,nl=r),qi(e,t)},n}function Ud(e,t,n){n=St(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){qi(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qi(e,t),typeof r!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ca(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=gm.bind(null,e,t,n),t.then(e,e))}function da(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fa(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=St(-1,1),t.tag=2,qt(n,t,1))),n.lanes|=1),e)}var sm=Bt.ReactCurrentOwner,Pe=!1;function Be(e,t,n,r){t.child=e===null?pd(t,null,n,r):Wn(t,e.child,n,r)}function ha(e,t,n,r,s){n=n.render;var o=t.ref;return zn(t,s),r=Jl(e,t,n,r,o,s),n=Xl(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(le&&n&&Ol(t),t.flags|=1,Be(e,t,r,s),t.child)}function pa(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!iu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,zd(e,t,o,r,s)):(e=As(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Lr,n(i,r)&&e.ref===t.ref)return _t(e,t,s)}return t.flags|=1,e=Jt(o,r),e.ref=t.ref,e.return=t,t.child=e}function zd(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Lr(o,r)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,_t(e,t,s)}return Ki(e,t,n,r,s)}function Md(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Ln,$e),$e|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Ln,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,se(Ln,$e),$e|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,se(Ln,$e),$e|=r;return Be(e,t,s,n),t.child}function $d(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ki(e,t,n,r,s){var o=Ie(n)?pn:be.current;return o=Hn(t,o),zn(t,s),n=Jl(e,t,n,r,o,s),r=Xl(),e!==null&&!Pe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(le&&r&&Ol(t),t.flags|=1,Be(e,t,n,s),t.child)}function ma(e,t,n,r,s){if(Ie(n)){var o=!0;Js(t)}else o=!1;if(zn(t,s),t.stateNode===null)bs(e,t),Od(t,n,r),Wi(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var a=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=et(c):(c=Ie(n)?pn:be.current,c=Hn(t,c));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==r||a!==c)&&aa(t,i,r,c),Pt=!1;var D=t.memoizedState;i.state=D,eo(t,r,i,s),a=t.memoizedState,u!==r||D!==a||Oe.current||Pt?(typeof p=="function"&&(Vi(t,n,p,r),a=t.memoizedState),(u=Pt||ua(t,n,u,r,D,a,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=c,r=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Dd(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:it(t.type,u),i.props=c,h=t.pendingProps,D=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=et(a):(a=Ie(n)?pn:be.current,a=Hn(t,a));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==h||D!==a)&&aa(t,i,r,a),Pt=!1,D=t.memoizedState,i.state=D,eo(t,r,i,s);var m=t.memoizedState;u!==h||D!==m||Oe.current||Pt?(typeof y=="function"&&(Vi(t,n,y,r),m=t.memoizedState),(c=Pt||ua(t,n,c,r,D,m,a)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,m,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,m,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=a,r=c):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),r=!1)}return Qi(e,t,n,r,o,s)}function Qi(e,t,n,r,s,o){$d(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&ea(t,n,!1),_t(e,t,o);r=t.stateNode,sm.current=t;var u=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Wn(t,e.child,null,o),t.child=Wn(t,null,u,o)):Be(e,t,u,o),t.memoizedState=r.state,s&&ea(t,n,!0),t.child}function Hd(e){var t=e.stateNode;t.pendingContext?Zu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zu(e,t.context,!1),Wl(e,t.containerInfo)}function Da(e,t,n,r,s){return Vn(),Ul(s),t.flags|=256,Be(e,t,n,r),t.child}var Ji={dehydrated:null,treeContext:null,retryLane:0};function Xi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vd(e,t,n){var r=t.pendingProps,s=ue.current,o=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(ue,s&1),e===null)return $i(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Co(i,r,0,null),e=fn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Xi(n),t.memoizedState=Ji,e):Zl(t,i));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return om(e,t,i,r,u,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,u=s.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Jt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=Jt(u,o):(o=fn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Xi(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Ji,r}return o=e.child,e=o.sibling,r=Jt(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zl(e,t){return t=Co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hs(e,t,n,r){return r!==null&&Ul(r),Wn(t,e.child,null,n),e=Zl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function om(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=ni(Error(A(422))),hs(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Co({mode:"visible",children:r.children},s,0,null),o=fn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Wn(t,e.child,null,i),t.child.memoizedState=Xi(i),t.memoizedState=Ji,o);if(!(t.mode&1))return hs(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(A(419)),r=ni(o,r,void 0),hs(e,t,i,r)}if(u=(i&e.childLanes)!==0,Pe||u){if(r=xe,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,bt(e,s),dt(r,e,s,-1))}return ou(),r=ni(Error(A(421))),hs(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ym.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,He=Wt(s.nextSibling),Ve=t,le=!0,at=null,e!==null&&(Je[Xe++]=Ft,Je[Xe++]=kt,Je[Xe++]=mn,Ft=e.id,kt=e.overflow,mn=t),t=Zl(t,r.children),t.flags|=4096,t)}function ga(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hi(e.return,t,n)}function ri(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Wd(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Be(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ga(e,n,t);else if(e.tag===19)ga(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&to(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ri(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&to(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ri(t,!0,n,null,o);break;case"together":ri(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Jt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function im(e,t,n){switch(t.tag){case 3:Hd(t),Vn();break;case 5:gd(t);break;case 1:Ie(t.type)&&Js(t);break;case 4:Wl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;se(Gs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?Vd(e,t,n):(se(ue,ue.current&1),e=_t(e,t,n),e!==null?e.sibling:null);se(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Wd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,Md(e,t,n)}return _t(e,t,n)}var qd,Yi,Kd,Qd;qd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yi=function(){};Kd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,an(vt.current);var o=null;switch(n){case"input":s=vi(e,s),r=vi(e,r),o=[];break;case"select":s=ce({},s,{value:void 0}),r=ce({},r,{value:void 0}),o=[];break;case"textarea":s=Ci(e,s),r=Ci(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ks)}Fi(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var u=s[c];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jr.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(u=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==u&&(a!=null||u!=null))if(c==="style")if(u){for(i in u)!u.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&u[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&oe("scroll",e),o||u===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Qd=function(e,t,n,r){n!==r&&(t.flags|=4)};function ar(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lm(e,t,n){var r=t.pendingProps;switch(Il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Ie(t.type)&&Qs(),Se(t),null;case 3:return r=t.stateNode,qn(),ie(Oe),ie(be),Kl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ds(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(ol(at),at=null))),Yi(e,t),Se(t),null;case 5:ql(t);var s=an(zr.current);if(n=t.type,e!==null&&t.stateNode!=null)Kd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return Se(t),null}if(e=an(vt.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[gt]=t,r[Ir]=o,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(s=0;s<Dr.length;s++)oe(Dr[s],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":Su(r,o),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},oe("invalid",r);break;case"textarea":ju(r,o),oe("invalid",r)}Fi(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var u=o[i];i==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&cs(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&cs(r.textContent,u,e),s=["children",""+u]):jr.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&oe("scroll",r)}switch(n){case"input":ns(r),Nu(r,o,!0);break;case"textarea":ns(r),bu(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ks)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[gt]=t,e[Ir]=r,qd(e,t,!1,!1),t.stateNode=e;e:{switch(i=ki(n,r),n){case"dialog":oe("cancel",e),oe("close",e),s=r;break;case"iframe":case"object":case"embed":oe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Dr.length;s++)oe(Dr[s],e);s=r;break;case"source":oe("error",e),s=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),s=r;break;case"details":oe("toggle",e),s=r;break;case"input":Su(e,r),s=vi(e,r),oe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ce({},r,{value:void 0}),oe("invalid",e);break;case"textarea":ju(e,r),s=Ci(e,r),oe("invalid",e);break;default:s=r}Fi(n,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var a=u[o];o==="style"?kc(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ec(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&br(e,a):typeof a=="number"&&br(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(jr.hasOwnProperty(o)?a!=null&&o==="onScroll"&&oe("scroll",e):a!=null&&El(e,o,a,i))}switch(n){case"input":ns(e),Nu(e,r,!1);break;case"textarea":ns(e),bu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Pn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Pn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ks)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Qd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=an(zr.current),an(vt.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[gt]=t,(o=r.nodeValue!==n)&&(e=Ve,e!==null))switch(e.tag){case 3:cs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cs(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gt]=t,t.stateNode=r}return Se(t),null;case 13:if(ie(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&He!==null&&t.mode&1&&!(t.flags&128))fd(),Vn(),t.flags|=98560,o=!1;else if(o=ds(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(A(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[gt]=t}else Vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),o=!1}else at!==null&&(ol(at),at=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?ve===0&&(ve=3):ou())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return qn(),Yi(e,t),e===null&&Pr(t.stateNode.containerInfo),Se(t),null;case 10:return $l(t.type._context),Se(t),null;case 17:return Ie(t.type)&&Qs(),Se(t),null;case 19:if(ie(ue),o=t.memoizedState,o===null)return Se(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ar(o,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=to(e),i!==null){for(t.flags|=128,ar(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(ue,ue.current&1|2),t.child}e=e.sibling}o.tail!==null&&he()>Qn&&(t.flags|=128,r=!0,ar(o,!1),t.lanes=4194304)}else{if(!r)if(e=to(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ar(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!le)return Se(t),null}else 2*he()-o.renderingStartTime>Qn&&n!==1073741824&&(t.flags|=128,r=!0,ar(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=he(),t.sibling=null,n=ue.current,se(ue,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return su(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$e&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function um(e,t){switch(Il(t),t.tag){case 1:return Ie(t.type)&&Qs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(),ie(Oe),ie(be),Kl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ql(t),null;case 13:if(ie(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ue),null;case 4:return qn(),null;case 10:return $l(t.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var ps=!1,Ne=!1,am=typeof WeakSet=="function"?WeakSet:Set,U=null;function Tn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function Gi(e,t,n){try{n()}catch(r){fe(e,t,r)}}var ya=!1;function cm(e,t){if(Li=Vs,e=Zc(),Pl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,u=-1,a=-1,c=0,p=0,h=e,D=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(u=i+s),h!==o||r!==0&&h.nodeType!==3||(a=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(y=h.firstChild)!==null;)D=h,h=y;for(;;){if(h===e)break t;if(D===n&&++c===s&&(u=i),D===o&&++p===r&&(a=i),(y=h.nextSibling)!==null)break;h=D,D=h.parentNode}h=y}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pi={focusedElem:e,selectionRange:n},Vs=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,N=m.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:it(t.type,v),N);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){fe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return m=ya,ya=!1,m}function Fr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Gi(t,n,o)}s=s.next}while(s!==r)}}function wo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jd(e){var t=e.alternate;t!==null&&(e.alternate=null,Jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[Ir],delete t[Ui],delete t[qp],delete t[Kp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xd(e){return e.tag===5||e.tag===3||e.tag===4}function va(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function el(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ks));else if(r!==4&&(e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}function tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}var Ce=null,lt=!1;function Tt(e,t,n){for(n=n.child;n!==null;)Yd(e,t,n),n=n.sibling}function Yd(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(fo,n)}catch{}switch(n.tag){case 5:Ne||Tn(n,t);case 6:var r=Ce,s=lt;Ce=null,Tt(e,t,n),Ce=r,lt=s,Ce!==null&&(lt?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(lt?(e=Ce,n=n.stateNode,e.nodeType===8?Xo(e.parentNode,n):e.nodeType===1&&Xo(e,n),Rr(e)):Xo(Ce,n.stateNode));break;case 4:r=Ce,s=lt,Ce=n.stateNode.containerInfo,lt=!0,Tt(e,t,n),Ce=r,lt=s;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Gi(n,t,i),s=s.next}while(s!==r)}Tt(e,t,n);break;case 1:if(!Ne&&(Tn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){fe(n,t,u)}Tt(e,t,n);break;case 21:Tt(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Tt(e,t,n),Ne=r):Tt(e,t,n);break;default:Tt(e,t,n)}}function wa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new am),t.forEach(function(r){var s=vm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:Ce=u.stateNode,lt=!1;break e;case 3:Ce=u.stateNode.containerInfo,lt=!0;break e;case 4:Ce=u.stateNode.containerInfo,lt=!0;break e}u=u.return}if(Ce===null)throw Error(A(160));Yd(o,i,s),Ce=null,lt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){fe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gd(t,e),t=t.sibling}function Gd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),pt(e),r&4){try{Fr(3,e,e.return),wo(3,e)}catch(v){fe(e,e.return,v)}try{Fr(5,e,e.return)}catch(v){fe(e,e.return,v)}}break;case 1:ot(t,e),pt(e),r&512&&n!==null&&Tn(n,n.return);break;case 5:if(ot(t,e),pt(e),r&512&&n!==null&&Tn(n,n.return),e.flags&32){var s=e.stateNode;try{br(s,"")}catch(v){fe(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,u=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&wc(s,o),ki(u,i);var c=ki(u,o);for(i=0;i<a.length;i+=2){var p=a[i],h=a[i+1];p==="style"?kc(s,h):p==="dangerouslySetInnerHTML"?Ec(s,h):p==="children"?br(s,h):El(s,p,h,c)}switch(u){case"input":wi(s,o);break;case"textarea":xc(s,o);break;case"select":var D=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Pn(s,!!o.multiple,y,!1):D!==!!o.multiple&&(o.defaultValue!=null?Pn(s,!!o.multiple,o.defaultValue,!0):Pn(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ir]=o}catch(v){fe(e,e.return,v)}}break;case 6:if(ot(t,e),pt(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){fe(e,e.return,v)}}break;case 3:if(ot(t,e),pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rr(t.containerInfo)}catch(v){fe(e,e.return,v)}break;case 4:ot(t,e),pt(e);break;case 13:ot(t,e),pt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(nu=he())),r&4&&wa(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(c=Ne)||p,ot(t,e),Ne=c):ot(t,e),pt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(U=e,p=e.child;p!==null;){for(h=U=p;U!==null;){switch(D=U,y=D.child,D.tag){case 0:case 11:case 14:case 15:Fr(4,D,D.return);break;case 1:Tn(D,D.return);var m=D.stateNode;if(typeof m.componentWillUnmount=="function"){r=D,n=D.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){fe(r,n,v)}}break;case 5:Tn(D,D.return);break;case 22:if(D.memoizedState!==null){Ca(h);continue}}y!==null?(y.return=D,U=y):Ca(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=h.stateNode,a=h.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=Fc("display",i))}catch(v){fe(e,e.return,v)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){fe(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ot(t,e),pt(e),r&4&&wa(e);break;case 21:break;default:ot(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xd(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(br(s,""),r.flags&=-33);var o=va(e);tl(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,u=va(e);el(e,u,i);break;default:throw Error(A(161))}}catch(a){fe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dm(e,t,n){U=e,Zd(e)}function Zd(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ps;if(!i){var u=s.alternate,a=u!==null&&u.memoizedState!==null||Ne;u=ps;var c=Ne;if(ps=i,(Ne=a)&&!c)for(U=s;U!==null;)i=U,a=i.child,i.tag===22&&i.memoizedState!==null?Ea(s):a!==null?(a.return=i,U=a):Ea(s);for(;o!==null;)U=o,Zd(o),o=o.sibling;U=s,ps=u,Ne=c}xa(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,U=o):xa(e)}}function xa(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||wo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&oa(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oa(t,i,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Rr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ne||t.flags&512&&Zi(t)}catch(D){fe(t,t.return,D)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function Ca(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function Ea(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wo(4,t)}catch(a){fe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){fe(t,s,a)}}var o=t.return;try{Zi(t)}catch(a){fe(t,o,a)}break;case 5:var i=t.return;try{Zi(t)}catch(a){fe(t,i,a)}}}catch(a){fe(t,t.return,a)}if(t===e){U=null;break}var u=t.sibling;if(u!==null){u.return=t.return,U=u;break}U=t.return}}var fm=Math.ceil,so=Bt.ReactCurrentDispatcher,eu=Bt.ReactCurrentOwner,Ze=Bt.ReactCurrentBatchConfig,Z=0,xe=null,me=null,Ee=0,$e=0,Ln=tn(0),ve=0,Vr=null,gn=0,xo=0,tu=0,kr=null,Le=null,nu=0,Qn=1/0,Ct=null,oo=!1,nl=null,Kt=null,ms=!1,zt=null,io=0,Sr=0,rl=null,_s=-1,Bs=0;function Ae(){return Z&6?he():_s!==-1?_s:_s=he()}function Qt(e){return e.mode&1?Z&2&&Ee!==0?Ee&-Ee:Jp.transition!==null?(Bs===0&&(Bs=Oc()),Bs):(e=te,e!==0||(e=window.event,e=e===void 0?16:Vc(e.type)),e):1}function dt(e,t,n,r){if(50<Sr)throw Sr=0,rl=null,Error(A(185));qr(e,n,r),(!(Z&2)||e!==xe)&&(e===xe&&(!(Z&2)&&(xo|=n),ve===4&&It(e,Ee)),Ue(e,r),n===1&&Z===0&&!(t.mode&1)&&(Qn=he()+500,go&&nn()))}function Ue(e,t){var n=e.callbackNode;Jh(e,t);var r=Hs(e,e===xe?Ee:0);if(r===0)n!==null&&Au(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Au(n),t===1)e.tag===0?Qp(Fa.bind(null,e)):ad(Fa.bind(null,e)),Vp(function(){!(Z&6)&&nn()}),n=null;else{switch(Ic(r)){case 1:n=jl;break;case 4:n=Lc;break;case 16:n=$s;break;case 536870912:n=Pc;break;default:n=$s}n=uf(n,ef.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ef(e,t){if(_s=-1,Bs=0,Z&6)throw Error(A(327));var n=e.callbackNode;if(Mn()&&e.callbackNode!==n)return null;var r=Hs(e,e===xe?Ee:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=lo(e,r);else{t=r;var s=Z;Z|=2;var o=nf();(xe!==e||Ee!==t)&&(Ct=null,Qn=he()+500,dn(e,t));do try{mm();break}catch(u){tf(e,u)}while(!0);Ml(),so.current=o,Z=s,me!==null?t=0:(xe=null,Ee=0,t=ve)}if(t!==0){if(t===2&&(s=_i(e),s!==0&&(r=s,t=sl(e,s))),t===1)throw n=Vr,dn(e,0),It(e,r),Ue(e,he()),n;if(t===6)It(e,r);else{if(s=e.current.alternate,!(r&30)&&!hm(s)&&(t=lo(e,r),t===2&&(o=_i(e),o!==0&&(r=o,t=sl(e,o))),t===1))throw n=Vr,dn(e,0),It(e,r),Ue(e,he()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:on(e,Le,Ct);break;case 3:if(It(e,r),(r&130023424)===r&&(t=nu+500-he(),10<t)){if(Hs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ae(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ii(on.bind(null,e,Le,Ct),t);break}on(e,Le,Ct);break;case 4:if(It(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-ct(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fm(r/1960))-r,10<r){e.timeoutHandle=Ii(on.bind(null,e,Le,Ct),r);break}on(e,Le,Ct);break;case 5:on(e,Le,Ct);break;default:throw Error(A(329))}}}return Ue(e,he()),e.callbackNode===n?ef.bind(null,e):null}function sl(e,t){var n=kr;return e.current.memoizedState.isDehydrated&&(dn(e,t).flags|=256),e=lo(e,t),e!==2&&(t=Le,Le=n,t!==null&&ol(t)),e}function ol(e){Le===null?Le=e:Le.push.apply(Le,e)}function hm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ft(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~tu,t&=~xo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function Fa(e){if(Z&6)throw Error(A(327));Mn();var t=Hs(e,0);if(!(t&1))return Ue(e,he()),null;var n=lo(e,t);if(e.tag!==0&&n===2){var r=_i(e);r!==0&&(t=r,n=sl(e,r))}if(n===1)throw n=Vr,dn(e,0),It(e,t),Ue(e,he()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,Le,Ct),Ue(e,he()),null}function ru(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(Qn=he()+500,go&&nn())}}function yn(e){zt!==null&&zt.tag===0&&!(Z&6)&&Mn();var t=Z;Z|=1;var n=Ze.transition,r=te;try{if(Ze.transition=null,te=1,e)return e()}finally{te=r,Ze.transition=n,Z=t,!(Z&6)&&nn()}}function su(){$e=Ln.current,ie(Ln)}function dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hp(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(Il(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qs();break;case 3:qn(),ie(Oe),ie(be),Kl();break;case 5:ql(r);break;case 4:qn();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:$l(r.type._context);break;case 22:case 23:su()}n=n.return}if(xe=e,me=e=Jt(e.current,null),Ee=$e=t,ve=0,Vr=null,tu=xo=gn=0,Le=kr=null,un!==null){for(t=0;t<un.length;t++)if(n=un[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}un=null}return e}function tf(e,t){do{var n=me;try{if(Ml(),Ns.current=ro,no){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}no=!1}if(Dn=0,we=ye=ae=null,Er=!1,Mr=0,eu.current=null,n===null||n.return===null){ve=1,Vr=t,me=null;break}e:{var o=e,i=n.return,u=n,a=t;if(t=Ee,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,p=u,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var D=p.alternate;D?(p.updateQueue=D.updateQueue,p.memoizedState=D.memoizedState,p.lanes=D.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=da(i);if(y!==null){y.flags&=-257,fa(y,i,u,o,t),y.mode&1&&ca(o,c,t),t=y,a=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(a),t.updateQueue=v}else m.add(a);break e}else{if(!(t&1)){ca(o,c,t),ou();break e}a=Error(A(426))}}else if(le&&u.mode&1){var N=da(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),fa(N,i,u,o,t),Ul(Kn(a,u));break e}}o=a=Kn(a,u),ve!==4&&(ve=2),kr===null?kr=[o]:kr.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=Id(o,a,t);sa(o,g);break e;case 1:u=a;var d=o.type,f=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Kt===null||!Kt.has(f)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Ud(o,u,t);sa(o,w);break e}}o=o.return}while(o!==null)}sf(n)}catch(x){t=x,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function nf(){var e=so.current;return so.current=ro,e===null?ro:e}function ou(){(ve===0||ve===3||ve===2)&&(ve=4),xe===null||!(gn&268435455)&&!(xo&268435455)||It(xe,Ee)}function lo(e,t){var n=Z;Z|=2;var r=nf();(xe!==e||Ee!==t)&&(Ct=null,dn(e,t));do try{pm();break}catch(s){tf(e,s)}while(!0);if(Ml(),Z=n,so.current=r,me!==null)throw Error(A(261));return xe=null,Ee=0,ve}function pm(){for(;me!==null;)rf(me)}function mm(){for(;me!==null&&!zh();)rf(me)}function rf(e){var t=lf(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?sf(e):me=t,eu.current=null}function sf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=um(n,t),n!==null){n.flags&=32767,me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,me=null;return}}else if(n=lm(n,t,$e),n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ve===0&&(ve=5)}function on(e,t,n){var r=te,s=Ze.transition;try{Ze.transition=null,te=1,Dm(e,t,n,r)}finally{Ze.transition=s,te=r}return null}function Dm(e,t,n,r){do Mn();while(zt!==null);if(Z&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Xh(e,o),e===xe&&(me=xe=null,Ee=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ms||(ms=!0,uf($s,function(){return Mn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ze.transition,Ze.transition=null;var i=te;te=1;var u=Z;Z|=4,eu.current=null,cm(e,n),Gd(n,e),Pp(Pi),Vs=!!Li,Pi=Li=null,e.current=n,dm(n),Mh(),Z=u,te=i,Ze.transition=o}else e.current=n;if(ms&&(ms=!1,zt=e,io=s),o=e.pendingLanes,o===0&&(Kt=null),Vh(n.stateNode),Ue(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(oo)throw oo=!1,e=nl,nl=null,e;return io&1&&e.tag!==0&&Mn(),o=e.pendingLanes,o&1?e===rl?Sr++:(Sr=0,rl=e):Sr=0,nn(),null}function Mn(){if(zt!==null){var e=Ic(io),t=Ze.transition,n=te;try{if(Ze.transition=null,te=16>e?16:e,zt===null)var r=!1;else{if(e=zt,zt=null,io=0,Z&6)throw Error(A(331));var s=Z;for(Z|=4,U=e.current;U!==null;){var o=U,i=o.child;if(U.flags&16){var u=o.deletions;if(u!==null){for(var a=0;a<u.length;a++){var c=u[a];for(U=c;U!==null;){var p=U;switch(p.tag){case 0:case 11:case 15:Fr(8,p,o)}var h=p.child;if(h!==null)h.return=p,U=h;else for(;U!==null;){p=U;var D=p.sibling,y=p.return;if(Jd(p),p===c){U=null;break}if(D!==null){D.return=y,U=D;break}U=y}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}U=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,U=i;else e:for(;U!==null;){if(o=U,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fr(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,U=g;break e}U=o.return}}var d=e.current;for(U=d;U!==null;){i=U;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,U=f;else e:for(i=d;U!==null;){if(u=U,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:wo(9,u)}}catch(x){fe(u,u.return,x)}if(u===i){U=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,U=w;break e}U=u.return}}if(Z=s,nn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(fo,e)}catch{}r=!0}return r}finally{te=n,Ze.transition=t}}return!1}function ka(e,t,n){t=Kn(n,t),t=Id(e,t,1),e=qt(e,t,1),t=Ae(),e!==null&&(qr(e,1,t),Ue(e,t))}function fe(e,t,n){if(e.tag===3)ka(e,e,n);else for(;t!==null;){if(t.tag===3){ka(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kt===null||!Kt.has(r))){e=Kn(n,e),e=Ud(t,e,1),t=qt(t,e,1),e=Ae(),t!==null&&(qr(t,1,e),Ue(t,e));break}}t=t.return}}function gm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(Ee&n)===n&&(ve===4||ve===3&&(Ee&130023424)===Ee&&500>he()-nu?dn(e,0):tu|=n),Ue(e,t)}function of(e,t){t===0&&(e.mode&1?(t=os,os<<=1,!(os&130023424)&&(os=4194304)):t=1);var n=Ae();e=bt(e,t),e!==null&&(qr(e,t,n),Ue(e,n))}function ym(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),of(e,n)}function vm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),of(e,n)}var lf;lf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Pe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pe=!1,im(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,le&&t.flags&1048576&&cd(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bs(e,t),e=t.pendingProps;var s=Hn(t,be.current);zn(t,n),s=Jl(null,t,r,e,s,n);var o=Xl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(r)?(o=!0,Js(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vl(t),s.updater=vo,t.stateNode=s,s._reactInternals=t,Wi(t,r,e,n),t=Qi(null,t,r,!0,o,n)):(t.tag=0,le&&o&&Ol(t),Be(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=xm(r),e=it(r,e),s){case 0:t=Ki(null,t,r,e,n);break e;case 1:t=ma(null,t,r,e,n);break e;case 11:t=ha(null,t,r,e,n);break e;case 14:t=pa(null,t,r,it(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),Ki(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),ma(e,t,r,s,n);case 3:e:{if(Hd(t),e===null)throw Error(A(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Dd(e,t),eo(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Kn(Error(A(423)),t),t=Da(e,t,r,n,s);break e}else if(r!==s){s=Kn(Error(A(424)),t),t=Da(e,t,r,n,s);break e}else for(He=Wt(t.stateNode.containerInfo.firstChild),Ve=t,le=!0,at=null,n=pd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===s){t=_t(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return gd(t),e===null&&$i(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Oi(r,s)?i=null:o!==null&&Oi(r,o)&&(t.flags|=32),$d(e,t),Be(e,t,i,n),t.child;case 6:return e===null&&$i(t),null;case 13:return Vd(e,t,n);case 4:return Wl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wn(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),ha(e,t,r,s,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,se(Gs,r._currentValue),r._currentValue=i,o!==null)if(ft(o.value,i)){if(o.children===s.children&&!Oe.current){t=_t(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){i=o.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=St(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hi(o.return,n,t),u.lanes|=n;break}a=a.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(A(341));i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Hi(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Be(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,zn(t,n),s=et(s),r=r(s),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,s=it(r,t.pendingProps),s=it(r.type,s),pa(e,t,r,s,n);case 15:return zd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),bs(e,t),t.tag=1,Ie(r)?(e=!0,Js(t)):e=!1,zn(t,n),Od(t,r,s),Wi(t,r,s,n),Qi(null,t,r,!0,e,n);case 19:return Wd(e,t,n);case 22:return Md(e,t,n)}throw Error(A(156,t.tag))};function uf(e,t){return Tc(e,t)}function wm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new wm(e,t,n,r)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xm(e){if(typeof e=="function")return iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kl)return 11;if(e===Sl)return 14}return 2}function Jt(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function As(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")iu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case kn:return fn(n.children,s,o,t);case Fl:i=8,s|=8;break;case mi:return e=Ge(12,n,t,s|2),e.elementType=mi,e.lanes=o,e;case Di:return e=Ge(13,n,t,s),e.elementType=Di,e.lanes=o,e;case gi:return e=Ge(19,n,t,s),e.elementType=gi,e.lanes=o,e;case gc:return Co(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mc:i=10;break e;case Dc:i=9;break e;case kl:i=11;break e;case Sl:i=14;break e;case Lt:i=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Ge(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function fn(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function Co(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=gc,e.lanes=n,e.stateNode={isHidden:!1},e}function si(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function oi(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cm(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uo(0),this.expirationTimes=Uo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lu(e,t,n,r,s,o,i,u,a){return e=new Cm(e,t,n,u,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ge(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(o),e}function Em(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function af(e){if(!e)return Zt;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Ie(n))return ud(e,n,t)}return t}function cf(e,t,n,r,s,o,i,u,a){return e=lu(n,r,!0,e,s,o,i,u,a),e.context=af(null),n=e.current,r=Ae(),s=Qt(n),o=St(r,s),o.callback=t??null,qt(n,o,s),e.current.lanes=s,qr(e,s,r),Ue(e,r),e}function Eo(e,t,n,r){var s=t.current,o=Ae(),i=Qt(s);return n=af(n),t.context===null?t.context=n:t.pendingContext=n,t=St(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qt(s,t,i),e!==null&&(dt(e,s,i,o),Ss(e,s,i)),i}function uo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sa(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uu(e,t){Sa(e,t),(e=e.alternate)&&Sa(e,t)}function Fm(){return null}var df=typeof reportError=="function"?reportError:function(e){console.error(e)};function au(e){this._internalRoot=e}Fo.prototype.render=au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Eo(e,t,null,null)};Fo.prototype.unmount=au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){Eo(null,e,null,null)}),t[jt]=null}};function Fo(e){this._internalRoot=e}Fo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&t!==0&&t<Ot[n].priority;n++);Ot.splice(n,0,e),n===0&&Hc(e)}};function cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Na(){}function km(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=uo(i);o.call(c)}}var i=cf(t,r,e,0,null,!1,!1,"",Na);return e._reactRootContainer=i,e[jt]=i.current,Pr(e.nodeType===8?e.parentNode:e),yn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var c=uo(a);u.call(c)}}var a=lu(e,0,!1,null,null,!1,!1,"",Na);return e._reactRootContainer=a,e[jt]=a.current,Pr(e.nodeType===8?e.parentNode:e),yn(function(){Eo(t,a,n,r)}),a}function So(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var u=s;s=function(){var a=uo(i);u.call(a)}}Eo(t,i,e,s)}else i=km(n,t,e,s,r);return uo(i)}Uc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mr(t.pendingLanes);n!==0&&(bl(t,n|1),Ue(t,he()),!(Z&6)&&(Qn=he()+500,nn()))}break;case 13:yn(function(){var r=bt(e,1);if(r!==null){var s=Ae();dt(r,e,1,s)}}),uu(e,1)}};_l=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=Ae();dt(t,e,134217728,n)}uu(e,134217728)}};zc=function(e){if(e.tag===13){var t=Qt(e),n=bt(e,t);if(n!==null){var r=Ae();dt(n,e,t,r)}uu(e,t)}};Mc=function(){return te};$c=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};Ni=function(e,t,n){switch(t){case"input":if(wi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Do(r);if(!s)throw Error(A(90));vc(r),wi(r,s)}}}break;case"textarea":xc(e,n);break;case"select":t=n.value,t!=null&&Pn(e,!!n.multiple,t,!1)}};jc=ru;bc=yn;var Sm={usingClientEntryPoint:!1,Events:[Qr,bn,Do,Sc,Nc,ru]},cr={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nm={bundleType:cr.bundleType,version:cr.version,rendererPackageName:cr.rendererPackageName,rendererConfig:cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ac(e),e===null?null:e.stateNode},findFiberByHostInstance:cr.findFiberByHostInstance||Fm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{fo=Ds.inject(Nm),yt=Ds}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sm;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cu(t))throw Error(A(200));return Em(e,t,null,n)};qe.createRoot=function(e,t){if(!cu(e))throw Error(A(299));var n=!1,r="",s=df;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lu(e,1,!1,null,null,n,!1,r,s),e[jt]=t.current,Pr(e.nodeType===8?e.parentNode:e),new au(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Ac(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return yn(e)};qe.hydrate=function(e,t,n){if(!ko(t))throw Error(A(200));return So(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!cu(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=df;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=cf(t,null,e,1,n??null,s,!1,o,i),e[jt]=t.current,Pr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Fo(t)};qe.render=function(e,t,n){if(!ko(t))throw Error(A(200));return So(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!ko(e))throw Error(A(40));return e._reactRootContainer?(yn(function(){So(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};qe.unstable_batchedUpdates=ru;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ko(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return So(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function ff(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ff)}catch(e){console.error(e)}}ff(),dc.exports=qe;var hf=dc.exports,pf,ja=hf;pf=hi.createRoot=ja.createRoot,hi.hydrateRoot=ja.hydrateRoot;function mf(e,t){return function(){return e.apply(t,arguments)}}const{toString:jm}=Object.prototype,{getPrototypeOf:du}=Object,{iterator:No,toStringTag:Df}=Symbol,jo=(e=>t=>{const n=jm.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ht=e=>(e=e.toLowerCase(),t=>jo(t)===e),bo=e=>t=>typeof t===e,{isArray:er}=Array,Jn=bo("undefined");function Xr(e){return e!==null&&!Jn(e)&&e.constructor!==null&&!Jn(e.constructor)&&ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gf=ht("ArrayBuffer");function bm(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gf(e.buffer),t}const _m=bo("string"),ze=bo("function"),yf=bo("number"),Yr=e=>e!==null&&typeof e=="object",Bm=e=>e===!0||e===!1,Rs=e=>{if(jo(e)!=="object")return!1;const t=du(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Df in e)&&!(No in e)},Am=e=>{if(!Yr(e)||Xr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Rm=ht("Date"),Tm=ht("File"),Lm=ht("Blob"),Pm=ht("FileList"),Om=e=>Yr(e)&&ze(e.pipe),Im=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ze(e.append)&&((t=jo(e))==="formdata"||t==="object"&&ze(e.toString)&&e.toString()==="[object FormData]"))},Um=ht("URLSearchParams"),[zm,Mm,$m,Hm]=["ReadableStream","Request","Response","Headers"].map(ht),Vm=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),er(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Xr(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let u;for(r=0;r<i;r++)u=o[r],t.call(null,e[u],u,e)}}function vf(e,t){if(Xr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const cn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wf=e=>!Jn(e)&&e!==cn;function il(){const{caseless:e,skipUndefined:t}=wf(this)&&this||{},n={},r=(s,o)=>{const i=e&&vf(n,o)||o;Rs(n[i])&&Rs(s)?n[i]=il(n[i],s):Rs(s)?n[i]=il({},s):er(s)?n[i]=s.slice():(!t||!Jn(s))&&(n[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Gr(arguments[s],r);return n}const Wm=(e,t,n,{allOwnKeys:r}={})=>(Gr(t,(s,o)=>{n&&ze(s)?e[o]=mf(s,n):e[o]=s},{allOwnKeys:r}),e),qm=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Km=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Qm=(e,t,n,r)=>{let s,o,i;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!u[i]&&(t[i]=e[i],u[i]=!0);e=n!==!1&&du(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Jm=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Xm=e=>{if(!e)return null;if(er(e))return e;let t=e.length;if(!yf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ym=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&du(Uint8Array)),Gm=(e,t)=>{const r=(e&&e[No]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},Zm=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},eD=ht("HTMLFormElement"),tD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),ba=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),nD=ht("RegExp"),xf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Gr(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},rD=e=>{xf(e,(t,n)=>{if(ze(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ze(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sD=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return er(e)?r(e):r(String(e).split(t)),n},oD=()=>{},iD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function lD(e){return!!(e&&ze(e.append)&&e[Df]==="FormData"&&e[No])}const uD=e=>{const t=new Array(10),n=(r,s)=>{if(Yr(r)){if(t.indexOf(r)>=0)return;if(Xr(r))return r;if(!("toJSON"in r)){t[s]=r;const o=er(r)?[]:{};return Gr(r,(i,u)=>{const a=n(i,s+1);!Jn(a)&&(o[u]=a)}),t[s]=void 0,o}}return r};return n(e,0)},aD=ht("AsyncFunction"),cD=e=>e&&(Yr(e)||ze(e))&&ze(e.then)&&ze(e.catch),Cf=((e,t)=>e?setImmediate:t?((n,r)=>(cn.addEventListener("message",({source:s,data:o})=>{s===cn&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),cn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ze(cn.postMessage)),dD=typeof queueMicrotask<"u"?queueMicrotask.bind(cn):typeof process<"u"&&process.nextTick||Cf,fD=e=>e!=null&&ze(e[No]),E={isArray:er,isArrayBuffer:gf,isBuffer:Xr,isFormData:Im,isArrayBufferView:bm,isString:_m,isNumber:yf,isBoolean:Bm,isObject:Yr,isPlainObject:Rs,isEmptyObject:Am,isReadableStream:zm,isRequest:Mm,isResponse:$m,isHeaders:Hm,isUndefined:Jn,isDate:Rm,isFile:Tm,isBlob:Lm,isRegExp:nD,isFunction:ze,isStream:Om,isURLSearchParams:Um,isTypedArray:Ym,isFileList:Pm,forEach:Gr,merge:il,extend:Wm,trim:Vm,stripBOM:qm,inherits:Km,toFlatObject:Qm,kindOf:jo,kindOfTest:ht,endsWith:Jm,toArray:Xm,forEachEntry:Gm,matchAll:Zm,isHTMLForm:eD,hasOwnProperty:ba,hasOwnProp:ba,reduceDescriptors:xf,freezeMethods:rD,toObjectSet:sD,toCamelCase:tD,noop:oD,toFiniteNumber:iD,findKey:vf,global:cn,isContextDefined:wf,isSpecCompliantForm:lD,toJSONObject:uD,isAsyncFn:aD,isThenable:cD,setImmediate:Cf,asap:dD,isIterable:fD};function K(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}E.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Ef=K.prototype,Ff={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ff[e]={value:e}});Object.defineProperties(K,Ff);Object.defineProperty(Ef,"isAxiosError",{value:!0});K.from=(e,t,n,r,s,o)=>{const i=Object.create(Ef);E.toFlatObject(e,i,function(p){return p!==Error.prototype},c=>c!=="isAxiosError");const u=e&&e.message?e.message:"Error",a=t==null&&e?e.code:t;return K.call(i,u,a,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const hD=null;function ll(e){return E.isPlainObject(e)||E.isArray(e)}function kf(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function _a(e,t,n){return e?e.concat(t).map(function(s,o){return s=kf(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function pD(e){return E.isArray(e)&&!e.some(ll)}const mD=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function _o(e,t,n){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,N){return!E.isUndefined(N[v])});const r=n.metaTokens,s=n.visitor||p,o=n.dots,i=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(E.isDate(m))return m.toISOString();if(E.isBoolean(m))return m.toString();if(!a&&E.isBlob(m))throw new K("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(m)||E.isTypedArray(m)?a&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function p(m,v,N){let g=m;if(m&&!N&&typeof m=="object"){if(E.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if(E.isArray(m)&&pD(m)||(E.isFileList(m)||E.endsWith(v,"[]"))&&(g=E.toArray(m)))return v=kf(v),g.forEach(function(f,w){!(E.isUndefined(f)||f===null)&&t.append(i===!0?_a([v],w,o):i===null?v:v+"[]",c(f))}),!1}return ll(m)?!0:(t.append(_a(N,v,o),c(m)),!1)}const h=[],D=Object.assign(mD,{defaultVisitor:p,convertValue:c,isVisitable:ll});function y(m,v){if(!E.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(m),E.forEach(m,function(g,d){(!(E.isUndefined(g)||g===null)&&s.call(t,g,E.isString(d)?d.trim():d,v,D))===!0&&y(g,v?v.concat(d):[d])}),h.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Ba(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function fu(e,t){this._pairs=[],e&&_o(e,this,t)}const Sf=fu.prototype;Sf.append=function(t,n){this._pairs.push([t,n])};Sf.toString=function(t){const n=t?function(r){return t.call(this,r,Ba)}:Ba;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function DD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Nf(e,t,n){if(!t)return e;const r=n&&n.encode||DD;E.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=E.isURLSearchParams(t)?t.toString():new fu(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Aa{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(r){r!==null&&t(r)})}}const jf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gD=typeof URLSearchParams<"u"?URLSearchParams:fu,yD=typeof FormData<"u"?FormData:null,vD=typeof Blob<"u"?Blob:null,wD={isBrowser:!0,classes:{URLSearchParams:gD,FormData:yD,Blob:vD},protocols:["http","https","file","blob","url","data"]},hu=typeof window<"u"&&typeof document<"u",ul=typeof navigator=="object"&&navigator||void 0,xD=hu&&(!ul||["ReactNative","NativeScript","NS"].indexOf(ul.product)<0),CD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ED=hu&&window.location.href||"http://localhost",FD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hu,hasStandardBrowserEnv:xD,hasStandardBrowserWebWorkerEnv:CD,navigator:ul,origin:ED},Symbol.toStringTag,{value:"Module"})),je={...FD,...wD};function kD(e,t){return _o(e,new je.classes.URLSearchParams,{visitor:function(n,r,s,o){return je.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function SD(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ND(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function bf(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const u=Number.isFinite(+i),a=o>=n.length;return i=!i&&E.isArray(s)?s.length:i,a?(E.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!u):((!s[i]||!E.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&E.isArray(s[i])&&(s[i]=ND(s[i])),!u)}if(E.isFormData(e)&&E.isFunction(e.entries)){const n={};return E.forEachEntry(e,(r,s)=>{t(SD(r),s,n,0)}),n}return null}function jD(e,t,n){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Zr={transitional:jf,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=E.isObject(t);if(o&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(bf(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return kD(t,this.formSerializer).toString();if((u=E.isFileList(t))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return _o(u?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),jD(t)):t}],transformResponse:[function(t){const n=this.transitional||Zr.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(i)throw u.name==="SyntaxError"?K.from(u,K.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:je.classes.FormData,Blob:je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{Zr.headers[e]={}});const bD=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_D=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&bD[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ra=Symbol("internals");function dr(e){return e&&String(e).trim().toLowerCase()}function Ts(e){return e===!1||e==null?e:E.isArray(e)?e.map(Ts):String(e)}function BD(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const AD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ii(e,t,n,r,s){if(E.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!E.isString(t)){if(E.isString(r))return t.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(t)}}function RD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function TD(e,t){const n=E.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}let Me=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(u,a,c){const p=dr(a);if(!p)throw new Error("header name must be a non-empty string");const h=E.findKey(s,p);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||a]=Ts(u))}const i=(u,a)=>E.forEach(u,(c,p)=>o(c,p,a));if(E.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(E.isString(t)&&(t=t.trim())&&!AD(t))i(_D(t),n);else if(E.isObject(t)&&E.isIterable(t)){let u={},a,c;for(const p of t){if(!E.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[c=p[0]]=(a=u[c])?E.isArray(a)?[...a,p[1]]:[a,p[1]]:p[1]}i(u,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=dr(t),t){const r=E.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return BD(s);if(E.isFunction(n))return n.call(this,s,r);if(E.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=dr(t),t){const r=E.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ii(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=dr(i),i){const u=E.findKey(r,i);u&&(!n||ii(r,r[u],u,n))&&(delete r[u],s=!0)}}return E.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||ii(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return E.forEach(this,(s,o)=>{const i=E.findKey(r,o);if(i){n[i]=Ts(s),delete n[o];return}const u=t?RD(o):String(o).trim();u!==o&&delete n[o],n[u]=Ts(s),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return E.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Ra]=this[Ra]={accessors:{}}).accessors,s=this.prototype;function o(i){const u=dr(i);r[u]||(TD(s,i),r[u]=!0)}return E.isArray(t)?t.forEach(o):o(t),this}};Me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(Me.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});E.freezeMethods(Me);function li(e,t){const n=this||Zr,r=t||n,s=Me.from(r.headers);let o=r.data;return E.forEach(e,function(u){o=u.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function _f(e){return!!(e&&e.__CANCEL__)}function tr(e,t,n){K.call(this,e??"canceled",K.ERR_CANCELED,t,n),this.name="CanceledError"}E.inherits(tr,K,{__CANCEL__:!0});function Bf(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function LD(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function PD(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(a){const c=Date.now(),p=r[o];i||(i=c),n[s]=a,r[s]=c;let h=o,D=0;for(;h!==s;)D+=n[h++],h=h%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const y=p&&c-p;return y?Math.round(D*1e3/y):void 0}}function OD(e,t){let n=0,r=1e3/t,s,o;const i=(c,p=Date.now())=>{n=p,s=null,o&&(clearTimeout(o),o=null),e(...c)};return[(...c)=>{const p=Date.now(),h=p-n;h>=r?i(c,p):(s=c,o||(o=setTimeout(()=>{o=null,i(s)},r-h)))},()=>s&&i(s)]}const ao=(e,t,n=3)=>{let r=0;const s=PD(50,250);return OD(o=>{const i=o.loaded,u=o.lengthComputable?o.total:void 0,a=i-r,c=s(a),p=i<=u;r=i;const h={loaded:i,total:u,progress:u?i/u:void 0,bytes:a,rate:c||void 0,estimated:c&&u&&p?(u-i)/c:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(h)},n)},Ta=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},La=e=>(...t)=>E.asap(()=>e(...t)),ID=je.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,je.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(je.origin),je.navigator&&/(msie|trident)/i.test(je.navigator.userAgent)):()=>!0,UD=je.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];E.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),E.isString(r)&&i.push("path="+r),E.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function MD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Af(e,t,n){let r=!zD(t);return e&&(r||n==!1)?MD(e,t):t}const Pa=e=>e instanceof Me?{...e}:e;function vn(e,t){t=t||{};const n={};function r(c,p,h,D){return E.isPlainObject(c)&&E.isPlainObject(p)?E.merge.call({caseless:D},c,p):E.isPlainObject(p)?E.merge({},p):E.isArray(p)?p.slice():p}function s(c,p,h,D){if(E.isUndefined(p)){if(!E.isUndefined(c))return r(void 0,c,h,D)}else return r(c,p,h,D)}function o(c,p){if(!E.isUndefined(p))return r(void 0,p)}function i(c,p){if(E.isUndefined(p)){if(!E.isUndefined(c))return r(void 0,c)}else return r(void 0,p)}function u(c,p,h){if(h in t)return r(c,p);if(h in e)return r(void 0,c)}const a={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:u,headers:(c,p,h)=>s(Pa(c),Pa(p),h,!0)};return E.forEach(Object.keys({...e,...t}),function(p){const h=a[p]||s,D=h(e[p],t[p],p);E.isUndefined(D)&&h!==u||(n[p]=D)}),n}const Rf=e=>{const t=vn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:u}=t;if(t.headers=i=Me.from(i),t.url=Nf(Af(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&i.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),E.isFormData(n)){if(je.hasStandardBrowserEnv||je.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(E.isFunction(n.getHeaders)){const a=n.getHeaders(),c=["content-type","content-length"];Object.entries(a).forEach(([p,h])=>{c.includes(p.toLowerCase())&&i.set(p,h)})}}if(je.hasStandardBrowserEnv&&(r&&E.isFunction(r)&&(r=r(t)),r||r!==!1&&ID(t.url))){const a=s&&o&&UD.read(o);a&&i.set(s,a)}return t},$D=typeof XMLHttpRequest<"u",HD=$D&&function(e){return new Promise(function(n,r){const s=Rf(e);let o=s.data;const i=Me.from(s.headers).normalize();let{responseType:u,onUploadProgress:a,onDownloadProgress:c}=s,p,h,D,y,m;function v(){y&&y(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let N=new XMLHttpRequest;N.open(s.method.toUpperCase(),s.url,!0),N.timeout=s.timeout;function g(){if(!N)return;const f=Me.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),x={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:f,config:e,request:N};Bf(function(S){n(S),v()},function(S){r(S),v()},x),N=null}"onloadend"in N?N.onloadend=g:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(g)},N.onabort=function(){N&&(r(new K("Request aborted",K.ECONNABORTED,e,N)),N=null)},N.onerror=function(w){const x=w&&w.message?w.message:"Network Error",C=new K(x,K.ERR_NETWORK,e,N);C.event=w||null,r(C),N=null},N.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const x=s.transitional||jf;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),r(new K(w,x.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,N)),N=null},o===void 0&&i.setContentType(null),"setRequestHeader"in N&&E.forEach(i.toJSON(),function(w,x){N.setRequestHeader(x,w)}),E.isUndefined(s.withCredentials)||(N.withCredentials=!!s.withCredentials),u&&u!=="json"&&(N.responseType=s.responseType),c&&([D,m]=ao(c,!0),N.addEventListener("progress",D)),a&&N.upload&&([h,y]=ao(a),N.upload.addEventListener("progress",h),N.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(p=f=>{N&&(r(!f||f.type?new tr(null,e,N):f),N.abort(),N=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const d=LD(s.url);if(d&&je.protocols.indexOf(d)===-1){r(new K("Unsupported protocol "+d+":",K.ERR_BAD_REQUEST,e));return}N.send(o||null)})},VD=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(c){if(!s){s=!0,u();const p=c instanceof Error?c:this.reason;r.abort(p instanceof K?p:new tr(p instanceof Error?p.message:p))}};let i=t&&setTimeout(()=>{i=null,o(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const u=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:a}=r;return a.unsubscribe=()=>E.asap(u),a}},WD=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},qD=async function*(e,t){for await(const n of KD(e))yield*WD(n,t)},KD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Oa=(e,t,n,r)=>{const s=qD(e,t);let o=0,i,u=a=>{i||(i=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:c,value:p}=await s.next();if(c){u(),a.close();return}let h=p.byteLength;if(n){let D=o+=h;n(D)}a.enqueue(new Uint8Array(p))}catch(c){throw u(c),c}},cancel(a){return u(a),s.return()}},{highWaterMark:2})},Ia=64*1024,{isFunction:gs}=E,QD=(({Request:e,Response:t})=>({Request:e,Response:t}))(E.global),{ReadableStream:Ua,TextEncoder:za}=E.global,Ma=(e,...t)=>{try{return!!e(...t)}catch{return!1}},JD=e=>{e=E.merge.call({skipUndefined:!0},QD,e);const{fetch:t,Request:n,Response:r}=e,s=t?gs(t):typeof fetch=="function",o=gs(n),i=gs(r);if(!s)return!1;const u=s&&gs(Ua),a=s&&(typeof za=="function"?(m=>v=>m.encode(v))(new za):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=o&&u&&Ma(()=>{let m=!1;const v=new n(je.origin,{body:new Ua,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!v}),p=i&&u&&Ma(()=>E.isReadableStream(new r("").body)),h={stream:p&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(v,N)=>{let g=v&&v[m];if(g)return g.call(v);throw new K(`Response type '${m}' is not supported`,K.ERR_NOT_SUPPORT,N)})});const D=async m=>{if(m==null)return 0;if(E.isBlob(m))return m.size;if(E.isSpecCompliantForm(m))return(await new n(je.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(E.isArrayBufferView(m)||E.isArrayBuffer(m))return m.byteLength;if(E.isURLSearchParams(m)&&(m=m+""),E.isString(m))return(await a(m)).byteLength},y=async(m,v)=>{const N=E.toFiniteNumber(m.getContentLength());return N??D(v)};return async m=>{let{url:v,method:N,data:g,signal:d,cancelToken:f,timeout:w,onDownloadProgress:x,onUploadProgress:C,responseType:S,headers:j,withCredentials:R="same-origin",fetchOptions:O}=Rf(m),Q=t||fetch;S=S?(S+"").toLowerCase():"text";let ge=VD([d,f&&f.toAbortSignal()],w),ee=null;const z=ge&&ge.unsubscribe&&(()=>{ge.unsubscribe()});let ne;try{if(C&&c&&N!=="get"&&N!=="head"&&(ne=await y(j,g))!==0){let I=new n(v,{method:"POST",body:g,duplex:"half"}),P;if(E.isFormData(g)&&(P=I.headers.get("content-type"))&&j.setContentType(P),I.body){const[V,q]=Ta(ne,ao(La(C)));g=Oa(I.body,Ia,V,q)}}E.isString(R)||(R=R?"include":"omit");const $=o&&"credentials"in n.prototype,_={...O,signal:ge,method:N.toUpperCase(),headers:j.normalize().toJSON(),body:g,duplex:"half",credentials:$?R:void 0};ee=o&&new n(v,_);let F=await(o?Q(ee,O):Q(v,_));const b=p&&(S==="stream"||S==="response");if(p&&(x||b&&z)){const I={};["status","statusText","headers"].forEach(G=>{I[G]=F[G]});const P=E.toFiniteNumber(F.headers.get("content-length")),[V,q]=x&&Ta(P,ao(La(x),!0))||[];F=new r(Oa(F.body,Ia,V,()=>{q&&q(),z&&z()}),I)}S=S||"text";let B=await h[E.findKey(h,S)||"text"](F,m);return!b&&z&&z(),await new Promise((I,P)=>{Bf(I,P,{data:B,headers:Me.from(F.headers),status:F.status,statusText:F.statusText,config:m,request:ee})})}catch($){throw z&&z(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,m,ee),{cause:$.cause||$}):K.from($,$&&$.code,m,ee)}}},XD=new Map,Tf=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let i=o.length,u=i,a,c,p=XD;for(;u--;)a=o[u],c=p.get(a),c===void 0&&p.set(a,c=u?new Map:JD(t)),p=c;return c};Tf();const al={http:hD,xhr:HD,fetch:{get:Tf}};E.forEach(al,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $a=e=>`- ${e}`,YD=e=>E.isFunction(e)||e===null||e===!1,Lf={getAdapter:(e,t)=>{e=E.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let u;if(s=r,!YD(r)&&(s=al[(u=String(r)).toLowerCase()],s===void 0))throw new K(`Unknown adapter '${u}'`);if(s&&(E.isFunction(s)||(s=s.get(t))))break;o[u||"#"+i]=s}if(!s){const i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let u=n?i.length>1?`since :
`+i.map($a).join(`
`):" "+$a(i[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s},adapters:al};function ui(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tr(null,e)}function Ha(e){return ui(e),e.headers=Me.from(e.headers),e.data=li.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Lf.getAdapter(e.adapter||Zr.adapter,e)(e).then(function(r){return ui(e),r.data=li.call(e,e.transformResponse,r),r.headers=Me.from(r.headers),r},function(r){return _f(r)||(ui(e),r&&r.response&&(r.response.data=li.call(e,e.transformResponse,r.response),r.response.headers=Me.from(r.response.headers))),Promise.reject(r)})}const Pf="1.12.2",Bo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Va={};Bo.transitional=function(t,n,r){function s(o,i){return"[Axios v"+Pf+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,u)=>{if(t===!1)throw new K(s(i," has been removed"+(n?" in "+n:"")),K.ERR_DEPRECATED);return n&&!Va[i]&&(Va[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,u):!0}};Bo.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function GD(e,t,n){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const u=e[o],a=u===void 0||i(u,o,e);if(a!==!0)throw new K("option "+o+" must be "+a,K.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new K("Unknown option "+o,K.ERR_BAD_OPTION)}}const Ls={assertOptions:GD,validators:Bo},mt=Ls.validators;let hn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Aa,response:new Aa}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=vn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Ls.assertOptions(r,{silentJSONParsing:mt.transitional(mt.boolean),forcedJSONParsing:mt.transitional(mt.boolean),clarifyTimeoutError:mt.transitional(mt.boolean)},!1),s!=null&&(E.isFunction(s)?n.paramsSerializer={serialize:s}:Ls.assertOptions(s,{encode:mt.function,serialize:mt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ls.assertOptions(n,{baseUrl:mt.spelling("baseURL"),withXsrfToken:mt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&E.merge(o.common,o[n.method]);o&&E.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=Me.concat(i,o);const u=[];let a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(a=a&&v.synchronous,u.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let p,h=0,D;if(!a){const m=[Ha.bind(this),void 0];for(m.unshift(...u),m.push(...c),D=m.length,p=Promise.resolve(n);h<D;)p=p.then(m[h++],m[h++]);return p}D=u.length;let y=n;for(;h<D;){const m=u[h++],v=u[h++];try{y=m(y)}catch(N){v.call(this,N);break}}try{p=Ha.call(this,y)}catch(m){return Promise.reject(m)}for(h=0,D=c.length;h<D;)p=p.then(c[h++],c[h++]);return p}getUri(t){t=vn(this.defaults,t);const n=Af(t.baseURL,t.url,t.allowAbsoluteUrls);return Nf(n,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){hn.prototype[t]=function(n,r){return this.request(vn(r||{},{method:t,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,u){return this.request(vn(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}hn.prototype[t]=n(),hn.prototype[t+"Form"]=n(!0)});let ZD=class Of{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(u=>{r.subscribe(u),o=u}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,u){r.reason||(r.reason=new tr(o,i,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Of(function(s){t=s}),cancel:t}}};function e0(e){return function(n){return e.apply(null,n)}}function t0(e){return E.isObject(e)&&e.isAxiosError===!0}const cl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cl).forEach(([e,t])=>{cl[t]=e});function If(e){const t=new hn(e),n=mf(hn.prototype.request,t);return E.extend(n,hn.prototype,t,{allOwnKeys:!0}),E.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return If(vn(e,s))},n}const pe=If(Zr);pe.Axios=hn;pe.CanceledError=tr;pe.CancelToken=ZD;pe.isCancel=_f;pe.VERSION=Pf;pe.toFormData=_o;pe.AxiosError=K;pe.Cancel=pe.CanceledError;pe.all=function(t){return Promise.all(t)};pe.spread=e0;pe.isAxiosError=t0;pe.mergeConfig=vn;pe.AxiosHeaders=Me;pe.formToJSON=e=>bf(E.isHTMLForm(e)?new FormData(e):e);pe.getAdapter=Lf.getAdapter;pe.HttpStatusCode=cl;pe.default=pe;const{Axios:Ug,AxiosError:zg,CanceledError:Mg,isCancel:$g,CancelToken:Hg,VERSION:Vg,all:Wg,Cancel:qg,isAxiosError:Kg,spread:Qg,toFormData:Jg,AxiosHeaders:Xg,HttpStatusCode:Yg,formToJSON:Gg,getAdapter:Zg,mergeConfig:ey}=pe,n0="http://localhost:5000",Uf="http://localhost:5000",re=pe.create({baseURL:n0});re.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});re.interceptors.response.use(e=>e,e=>{var t;if(((t=e.response)==null?void 0:t.status)===401){localStorage.removeItem("token");try{sessionStorage.getItem("auth_reloaded")?console.warn("401 received but reload already attempted this session"):(sessionStorage.setItem("auth_reloaded","1"),setTimeout(()=>window.location.reload(),50))}catch{try{window.location.reload()}catch(r){console.error("Failed to reload after 401",r)}}}return Promise.reject(e)});const r0=e=>re.put("/users/update",e),s0=e=>re.put("/users/change-password",e),o0=e=>re.post("/users/upload-avatar",e),zf=k.createContext();function i0({children:e}){const[t,n]=k.useState(()=>{try{const D=localStorage.getItem("user");return D?JSON.parse(D):null}catch{return null}}),[r,s]=k.useState(()=>localStorage.getItem("token")),[o,i]=k.useState(!0),[u,a]=k.useState(0);k.useEffect(()=>{const D=localStorage.getItem("token");try{const y=localStorage.getItem("user");y&&n(JSON.parse(y))}catch{}D&&(s(D),(async()=>{var y;try{console.log("AuthContext: attempting to restore user from /users/me");const m=await re.get("/users/me"),v=((y=m.data)==null?void 0:y.user)??m.data;if(console.log("AuthContext: /users/me response",m.data),v){n(v);try{localStorage.setItem("user",JSON.stringify(v))}catch{}}}catch(m){console.warn("Auth restore failed (will keep cached token/user)",m)}})()),i(!1)},[]);const c=(D,y)=>{console.log("AuthContext.login: saving user and token",{userData:D,authToken:y}),n(D),s(y);try{y&&(localStorage.setItem("token",y),console.log("AuthContext.login: token written to localStorage")),D&&(localStorage.setItem("user",JSON.stringify(D)),console.log("AuthContext.login: user written to localStorage"))}catch(m){console.warn("AuthContext.login: failed to write auth data to localStorage",m)}},p=D=>{console.log("🔄 AuthContext: Updating user data (no localStorage):",D),console.log("🔄 AuthContext: Previous user data:",t);const y={...D};n(y),a(m=>m+1),console.log("🔄 AuthContext: User updated successfully (no localStorage)")},h=()=>{n(null),s(null);try{localStorage.removeItem("token"),localStorage.removeItem("user")}catch{}};return l.jsx(zf.Provider,{value:{user:t,token:r,login:c,logout:h,updateUserOnly:p,isLoading:o,setUser:p,updateTrigger:u},children:e})}const nt=()=>{const e=k.useContext(zf);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},l0="/assets/mini-social-OK2GutAU.png";function u0({onClose:e}){const{login:t}=nt(),[n,r]=k.useState(!0),[s,o]=k.useState({username:"",password:"",email:"",displayName:"",fullName:""}),[i,u]=k.useState(!1),a=async c=>{var p,h,D,y;c.preventDefault(),u(!0);try{if(n){const v=(await re.post("/auth/login",{username:s.username,password:s.password})).data||{},N=v.token||v.accessToken||((p=v==null?void 0:v.data)==null?void 0:p.token)||((h=v==null?void 0:v.token)==null?void 0:h.token),g=v.user??v;N||console.warn("Login response did not include a token:",v),t(g,N),e()}else await re.post("/auth/register",s),alert("Account created! Please login."),r(!0)}catch(m){console.error("Auth error:",m),alert(((y=(D=m.response)==null?void 0:D.data)==null?void 0:y.error)||"Authentication failed")}finally{u(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl overflow-hidden grid grid-cols-1 md:grid-cols-11 min-h-[600px]",children:[l.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center modal-bg-pink p-8 md:col-span-5",children:[l.jsxs("h3",{className:"text-white text-lg md:text-xl font-bold mb-3 uppercase text-center leading-snug md:leading-normal tracking-wide md:tracking-[0.06em]",children:[l.jsx("span",{className:"block mb-1",children:"CHÀO MỪNG ĐẾN VỚI MẠNG"}),l.jsx("span",{className:"block",children:"XÃ HỘI NEO4JI BIG DATA"})]}),l.jsx("img",{src:l0,alt:"decor",className:"w-56 h-56 md:w-80 md:h-80 object-contain"}),l.jsx("p",{className:"text-white text-sm mt-4",children:"Kết nối, chia sẻ và khám phá cùng mọi người"})]}),l.jsxs("div",{className:"p-6 md:p-10 md:col-span-6 flex flex-col justify-center relative",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsxs("div",{className:"max-w-md mx-auto w-full",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n?"Đăng nhập":"Tạo tài khoản"}),l.jsx("div",{className:"text-sm text-gray-500",children:n?"Chào mừng trở lại — vui lòng nhập thông tin để đăng nhập":"Tạo tài khoản để tiếp tục"})]}),l.jsx("button",{onClick:e,className:"absolute right-0 top-0 text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close",children:"×"})]}),l.jsxs("form",{onSubmit:a,className:"space-y-6 max-w-md mx-auto",children:[!n&&l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",placeholder:"Họ và tên",value:s.fullName,onChange:c=>o({...s,fullName:c.target.value}),className:"w-full px-4 py-4 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300 text-base",required:!0}),l.jsx("input",{type:"email",placeholder:"Email",value:s.email,onChange:c=>o({...s,email:c.target.value}),className:"w-full px-4 py-4 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300 text-base",required:!0})]}),l.jsx("input",{type:"text",placeholder:"Tên đăng nhập",value:s.username,onChange:c=>o({...s,username:c.target.value}),className:"w-full px-4 py-4 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300 text-base",required:!0}),l.jsx("input",{type:"password",placeholder:"Mật khẩu",value:s.password,onChange:c=>o({...s,password:c.target.value}),className:"w-full px-4 py-4 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300 text-base",required:!0}),l.jsx("button",{type:"submit",disabled:i,className:"w-full auth-btn--primary py-4 rounded-lg font-semibold hover:bg-indigo-700 disabled:bg-gray-300 transition-colors text-base",children:i?"Đang xử lý...":n?"Đăng nhập":"Tạo tài khoản"}),l.jsx("div",{className:"mt-4 text-center",children:l.jsx("button",{type:"button",onClick:()=>r(!n),className:"text-indigo-600 hover:underline text-sm",children:n?"Bạn chưa có tài khoản? Tạo tài khoản":"Đã có tài khoản? Đăng nhập"})})]}),l.jsxs("div",{className:"mt-8 flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 border-t border-gray-200"}),l.jsx("div",{className:"text-xs text-gray-400",children:"hoặc tiếp tục với"}),l.jsx("div",{className:"flex-1 border-t border-gray-200"})]}),l.jsxs("div",{className:"mt-6 max-w-md mx-auto grid grid-cols-2 gap-4",children:[l.jsxs("button",{type:"button",onClick:()=>alert("Google sign-in placeholder"),className:"w-full flex items-center justify-center gap-3 border border-gray-200 rounded-lg py-3 hover:shadow-sm text-sm auth-btn--wide",children:[l.jsx("img",{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"google",className:"w-6 h-6"}),l.jsx("span",{className:"text-sm",children:"Google"})]}),l.jsxs("button",{type:"button",onClick:()=>alert("Facebook sign-in placeholder"),className:"w-full flex items-center justify-center gap-3 border border-gray-200 rounded-lg py-3 hover:shadow-sm text-sm auth-btn--wide",children:[l.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg",alt:"fb",className:"w-6 h-6"}),l.jsx("span",{className:"text-sm",children:"Facebook"})]})]})]})]})})}var Mf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wa=Mt.createContext&&Mt.createContext(Mf),Xt=function(){return Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Xt.apply(this,arguments)},a0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function $f(e){return e&&e.map(function(t,n){return Mt.createElement(t.tag,Xt({key:n},t.attr),$f(t.child))})}function At(e){return function(t){return Mt.createElement(c0,Xt({attr:Xt({},e.attr)},t),$f(e.child))}}function c0(e){var t=function(n){var r=e.attr,s=e.size,o=e.title,i=a0(e,["attr","size","title"]),u=s||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),Mt.createElement("svg",Xt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:a,style:Xt(Xt({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Mt.createElement("title",null,o),e.children)};return Wa!==void 0?Mt.createElement(Wa.Consumer,null,function(n){return t(n)}):t(Mf)}function d0(e){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function f0(e){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function h0(e){return At({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function p0(e){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function m0(e){return At({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function D0(e){return At({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function g0(e){return At({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function y0({onClose:e}){const{user:t,updateUserOnly:n}=nt(),[r,s]=k.useState({displayName:(t==null?void 0:t.displayName)||(t==null?void 0:t.username)||""}),[o,i]=k.useState(null),[u,a]=k.useState(!1),[c,p]=k.useState(""),h=m=>{s({...r,[m.target.name]:m.target.value})},D=m=>{i(m.target.files[0])},y=async m=>{var v,N,g,d;m.preventDefault(),a(!0),p("");try{let f=null,w;if(o){const R=new FormData;R.append("avatar",o);const O=await o0(R);(v=O.data)!=null&&v.user&&(f=O.data.user),w=(N=O.data)==null?void 0:N.avatarUrl}const x={displayName:r.displayName};w&&(x.avatarUrl=w),console.log("📤 Sending update payload:",x);const C=await r0(x);console.log("📥 Server response:",C),console.log("📥 Response data:",C.data);const S=C.data||f;console.log("🔄 Updated user data from server:",S);const j={...t,...S,displayName:S.displayName,avatarUrl:S.avatarUrl||w||t.avatarUrl};console.log("🔄 Current user before update:",t),console.log("🔄 Final user data to save:",j),n(j),console.log("✅ User context updated with fresh data from Neo4j!"),console.log("🔄 All components will re-fetch data due to updateTrigger");try{window.dispatchEvent(new CustomEvent("app:user:updated",{detail:{user:j}}))}catch(R){console.warn("Failed to dispatch app:user:updated",R)}try{const R={id:`local-user-update-${j.id}-${Date.now()}`,type:"profile:update",message:"CẬP NHẬT HỒ SƠ THÀNH CÔNG !",from:j.displayName||j.username,fromUserId:j.id,postId:null,timestamp:Date.now()};window.dispatchEvent(new CustomEvent("app:notification:new",{detail:R}))}catch(R){console.warn("Failed to dispatch app:notification:new",R)}try{window.appToast?window.appToast("CẬP NHẬT HỒ SƠ THÀNH CÔNG !"):alert("CẬP NHẬT HỒ SƠ THÀNH CÔNG !")}catch{try{alert(`Cập nhật thành công! Tên mới: ${j.displayName}`)}catch{}}e()}catch(f){const w=(d=(g=f.response)==null?void 0:g.data)==null?void 0:d.error;let x=w;w==="Display name cannot be empty"&&(x="Tên hiển thị không được để trống"),w==="No updatable fields provided"&&(x="Không có thông tin nào để cập nhật"),x||(x="Cập nhật không thành công"),p(x)}finally{a(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg md:max-w-xl p-8 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Cập nhật tài khoản"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 rounded-lg icon-no-bg flex items-center justify-center text-gray-600",children:l.jsx(D0,{className:"w-5 h-5"})})}),l.jsx("label",{htmlFor:"displayName",className:"w-20 md:w-24 text-sm font-medium text-gray-700",children:"Tên hiển thị"}),l.jsx("input",{id:"displayName",type:"text",name:"displayName",value:r.displayName,onChange:h,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 rounded-lg icon-no-bg flex items-center justify-center text-gray-600",children:l.jsx(p0,{className:"w-5 h-5"})})}),l.jsx("label",{htmlFor:"avatar",className:"w-20 md:w-24 text-sm font-medium text-gray-700",children:"Ảnh đại diện"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{id:"avatar",type:"file",accept:"image/*",onChange:D,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})})]}),l.jsxs("div",{className:"flex gap-4 pt-6",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Hủy"}),l.jsx("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-3 bg-black text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition-colors duration-200",children:u?"Đang lưu...":"Lưu thay đổi"})]})]})]})})}function v0({onClose:e}){const[t,n]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[r,s]=k.useState(!1),[o,i]=k.useState(""),[u,a]=k.useState(""),c=h=>{n({...t,[h.target.name]:h.target.value})},p=async h=>{var D,y;if(h.preventDefault(),s(!0),i(""),a(""),t.newPassword!==t.confirmPassword){i("Mật khẩu mới không khớp"),s(!1);return}if(t.newPassword.length<5){i("Mật khẩu mới phải có ít nhất 5 ký tự"),s(!1);return}try{await s0({currentPassword:t.currentPassword,newPassword:t.newPassword}),a("Đổi mật khẩu thành công!"),setTimeout(()=>{e()},2e3)}catch(m){i(((y=(D=m.response)==null?void 0:D.data)==null?void 0:y.error)||"Failed to change password")}finally{s(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Đổi mật khẩu"}),l.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-full",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o&&l.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:o}),u&&l.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:u}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mật khẩu hiện tại"}),l.jsx("input",{type:"password",name:"currentPassword",value:t.currentPassword,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mật khẩu mới"}),l.jsx("input",{type:"password",name:"newPassword",value:t.newPassword,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:6}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ít nhất 6 ký tự"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Xác nhận mật khẩu mới"}),l.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Hủy"}),l.jsx("button",{type:"submit",disabled:r,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:r?"Đang đổi...":"Đổi mật khẩu"})]})]})]})})}function w0({onSelect:e}){const{user:t,updateTrigger:n}=nt(),[r,s]=k.useState([]),[o,i]=k.useState(!0),[u,a]=k.useState([]),[c,p]=k.useState(!1);return k.useEffect(()=>{let h=!1;return t&&(async()=>{i(!0);try{const y=await re.get("/messages/threads");h||s(y.data||[])}catch(y){console.error("Failed to load threads",y)}finally{h||i(!1)}})(),()=>h=!0},[t,n]),k.useEffect(()=>{let h=!1;return t&&!o&&(async()=>{console.log("🔍 Loading user suggestions..."),p(!0);try{const y=await re.get("/users/suggestions");if(console.log("📊 Suggestions response:",y.data),!h){const v=(Array.isArray(y.data)?y.data:[]).filter(N=>!(!N||t!=null&&t.id&&N.id&&N.id===t.id||t!=null&&t.username&&N.username&&N.username===t.username));a(v)}}catch(y){console.error("❌ Failed to load suggestions:",y)}finally{h||p(!1)}})(),()=>h=!0},[t,r.length,o,n]),t?(console.log("🎨 Rendering ChatSidebar:",{user:t.username,loading:o,threadsCount:r.length,suggestionsCount:u.length,loadingSuggestions:c}),l.jsx("div",{className:"p-4 h-full overflow-y-auto",children:o?l.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):l.jsxs("div",{className:"space-y-4",children:[r.filter(h=>h.lastMsg&&(h.lastMsg.text||h.lastMsg.type)).length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-600 font-medium mb-2 uppercase tracking-wide font-['Inter',sans-serif]",children:"CUỘC TRÒ CHUYỆN GẦN ĐÂY"}),l.jsx("div",{className:"space-y-2 mb-4",children:r.filter(h=>h.lastMsg&&(h.lastMsg.text||h.lastMsg.type)).map((h,D)=>{var y,m,v,N,g,d,f,w,x;return l.jsxs("button",{onClick:()=>e(h.other),className:"w-full text-left flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-colors",children:[(y=h.other)!=null&&y.avatarUrl?l.jsx("img",{src:`http://localhost:5000${h.other.avatarUrl}`,alt:h.other.displayName||h.other.username,className:"w-10 h-10 rounded-full object-cover shadow-avatar"}):l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-avatar",children:(((v=(m=h.other)==null?void 0:m.displayName)==null?void 0:v[0])||((g=(N=h.other)==null?void 0:N.username)==null?void 0:g[0])||"?").toUpperCase()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm text-gray-900",children:((d=h.other)==null?void 0:d.displayName)||((f=h.other)==null?void 0:f.username)||"Unknown User"}),l.jsx("div",{className:"text-xs text-gray-500 truncate",children:((w=h.lastMsg)==null?void 0:w.text)||"Chưa có tin nhắn"})]}),l.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]},`thread-${((x=h.other)==null?void 0:x.id)||D}`)})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-600 font-medium mb-2 uppercase tracking-wide font-['Inter',sans-serif]",children:"BẮT ĐẦU CUỘC TRÒ CHUYỆN MỚI"}),c?l.jsx("div",{className:"text-sm text-gray-500 text-center py-4",children:l.jsxs("div",{className:"inline-flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),"Đang tải..."]})}):u.length===0?l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Chưa có người dùng"}),l.jsx("div",{className:"text-xs text-gray-400",children:"Đăng ký thêm user để chat"})]}):l.jsx("div",{className:"space-y-2",children:(()=>{const h=new Set(r.map(y=>{var m,v;return((m=y.other)==null?void 0:m.id)||((v=y.other)==null?void 0:v.username)}).filter(Boolean));return u.filter(y=>{const m=(y==null?void 0:y.id)||(y==null?void 0:y.username);return m?!h.has(m):!1}).map((y,m)=>{var v,N,g;return l.jsxs("button",{onClick:()=>e(y),className:"w-full text-left flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-colors",children:[y!=null&&y.avatarUrl?l.jsx("img",{src:`http://localhost:5000${y.avatarUrl}`,alt:y.displayName||y.username,className:"w-10 h-10 rounded-full object-cover shadow-avatar"}):l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-400 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-avatar",children:(g=((v=y.displayName)==null?void 0:v[0])||((N=y.username)==null?void 0:N[0]))==null?void 0:g.toUpperCase()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm text-gray-900",children:y.displayName||y.username}),l.jsxs("div",{className:"text-xs text-gray-500",children:["@",y.username]})]}),l.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]},`suggestion-${y.id||y.username||m}`)})})()})]})]})})):(console.log("❌ No user - showing login prompt"),l.jsx("div",{className:"p-4 h-full",children:l.jsxs("div",{className:"text-sm text-gray-500 text-center py-8",children:[l.jsx("div",{className:"mb-2",children:"Vui lòng đăng nhập để chat"}),l.jsx("div",{className:"text-xs",children:"Click icon profile để login"})]})}))}const xt=Object.create(null);xt.open="0";xt.close="1";xt.ping="2";xt.pong="3";xt.message="4";xt.upgrade="5";xt.noop="6";const Ps=Object.create(null);Object.keys(xt).forEach(e=>{Ps[xt[e]]=e});const dl={type:"error",data:"parser error"},Hf=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Vf=typeof ArrayBuffer=="function",Wf=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,pu=({type:e,data:t},n,r)=>Hf&&t instanceof Blob?n?r(t):qa(t,r):Vf&&(t instanceof ArrayBuffer||Wf(t))?n?r(t):qa(new Blob([t]),r):r(xt[e]+(t||"")),qa=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Ka(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ai;function x0(e,t){if(Hf&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ka).then(t);if(Vf&&(e.data instanceof ArrayBuffer||Wf(e.data)))return t(Ka(e.data));pu(e,!1,n=>{ai||(ai=new TextEncoder),t(ai.encode(n))})}const Qa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Qa.length;e++)gr[Qa.charCodeAt(e)]=e;const C0=e=>{let t=e.length*.75,n=e.length,r,s=0,o,i,u,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),p=new Uint8Array(c);for(r=0;r<n;r+=4)o=gr[e.charCodeAt(r)],i=gr[e.charCodeAt(r+1)],u=gr[e.charCodeAt(r+2)],a=gr[e.charCodeAt(r+3)],p[s++]=o<<2|i>>4,p[s++]=(i&15)<<4|u>>2,p[s++]=(u&3)<<6|a&63;return c},E0=typeof ArrayBuffer=="function",mu=(e,t)=>{if(typeof e!="string")return{type:"message",data:qf(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:F0(e.substring(1),t)}:Ps[n]?e.length>1?{type:Ps[n],data:e.substring(1)}:{type:Ps[n]}:dl},F0=(e,t)=>{if(E0){const n=C0(e);return qf(n,t)}else return{base64:!0,data:e}},qf=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Kf="",k0=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((o,i)=>{pu(o,!1,u=>{r[i]=u,++s===n&&t(r.join(Kf))})})},S0=(e,t)=>{const n=e.split(Kf),r=[];for(let s=0;s<n.length;s++){const o=mu(n[s],t);if(r.push(o),o.type==="error")break}return r};function N0(){return new TransformStream({transform(e,t){x0(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let ci;function ys(e){return e.reduce((t,n)=>t+n.length,0)}function vs(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function j0(e,t){ci||(ci=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(i,u){for(n.push(i);;){if(r===0){if(ys(n)<1)break;const a=vs(n,1);o=(a[0]&128)===128,s=a[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(ys(n)<2)break;const a=vs(n,2);s=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(ys(n)<8)break;const a=vs(n,8),c=new DataView(a.buffer,a.byteOffset,a.length),p=c.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(dl);break}s=p*Math.pow(2,32)+c.getUint32(4),r=3}else{if(ys(n)<s)break;const a=vs(n,s);u.enqueue(mu(o?a:ci.decode(a),t)),r=0}if(s===0||s>e){u.enqueue(dl);break}}}})}const Qf=4;function De(e){if(e)return b0(e)}function b0(e){for(var t in De.prototype)e[t]=De.prototype[t];return e}De.prototype.on=De.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};De.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};De.prototype.off=De.prototype.removeListener=De.prototype.removeAllListeners=De.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};De.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};De.prototype.emitReserved=De.prototype.emit;De.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};De.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ao=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ye=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),_0="arraybuffer";function Jf(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const B0=Ye.setTimeout,A0=Ye.clearTimeout;function Ro(e,t){t.useNativeTimers?(e.setTimeoutFn=B0.bind(Ye),e.clearTimeoutFn=A0.bind(Ye)):(e.setTimeoutFn=Ye.setTimeout.bind(Ye),e.clearTimeoutFn=Ye.clearTimeout.bind(Ye))}const R0=1.33;function T0(e){return typeof e=="string"?L0(e):Math.ceil((e.byteLength||e.size)*R0)}function L0(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Xf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function P0(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function O0(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class I0 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Du extends De{constructor(t){super(),this.writable=!1,Ro(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new I0(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=mu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=P0(t);return n.length?"?"+n:""}}class U0 extends Du{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};S0(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,k0(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Xf()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Yf=!1;try{Yf=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const z0=Yf;function M0(){}class $0 extends U0{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class wt extends De{constructor(t,n,r){super(),this.createRequest=t,Ro(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Jf(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=wt.requestsCount++,wt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=M0,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete wt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}wt.requestsCount=0;wt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ja);else if(typeof addEventListener=="function"){const e="onpagehide"in Ye?"pagehide":"unload";addEventListener(e,Ja,!1)}}function Ja(){for(let e in wt.requests)wt.requests.hasOwnProperty(e)&&wt.requests[e].abort()}const H0=function(){const e=Gf({xdomain:!1});return e&&e.responseType!==null}();class V0 extends $0{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=H0&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new wt(Gf,this.uri(),t)}}function Gf(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||z0))return new XMLHttpRequest}catch{}if(!t)try{return new Ye[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Zf=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class W0 extends Du{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Zf?{}:Jf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;pu(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}s&&Ao(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Xf()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const di=Ye.WebSocket||Ye.MozWebSocket;class q0 extends W0{createSocket(t,n,r){return Zf?new di(t,n,r):n?new di(t,n):new di(t)}doWrite(t,n){this.ws.send(n)}}class K0 extends Du{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=j0(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=N0();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const o=()=>{r.read().then(({done:u,value:a})=>{u||(this.onPacket(a),o())}).catch(u=>{})};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Ao(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Q0={websocket:q0,webtransport:K0,polling:V0},J0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,X0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function fl(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=J0.exec(e||""),o={},i=14;for(;i--;)o[X0[i]]=s[i]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Y0(o,o.path),o.queryKey=G0(o,o.query),o}function Y0(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function G0(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}const hl=typeof addEventListener=="function"&&typeof removeEventListener=="function",Os=[];hl&&addEventListener("offline",()=>{Os.forEach(e=>e())},!1);class Yt extends De{constructor(t,n){if(super(),this.binaryType=_0,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=fl(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=fl(n.host).host);Ro(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=O0(this.opts.query)),hl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Os.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Qf,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Yt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Yt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=T0(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ao(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Yt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),hl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Os.indexOf(this._offlineEventListener);r!==-1&&Os.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Yt.protocol=Qf;class Z0 extends Yt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Yt.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Yt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const D=new Error("probe error");D.transport=n.name,this.emitReserved("upgradeError",D)}}))};function o(){r||(r=!0,p(),n.close(),n=null)}const i=h=>{const D=new Error("probe error: "+h);D.transport=n.name,o(),this.emitReserved("upgradeError",D)};function u(){i("transport closed")}function a(){i("socket closed")}function c(h){n&&h.name!==n.name&&o()}const p=()=>{n.removeListener("open",s),n.removeListener("error",i),n.removeListener("close",u),this.off("close",a),this.off("upgrading",c)};n.once("open",s),n.once("error",i),n.once("close",u),this.once("close",a),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let eg=class extends Z0{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Q0[s]).filter(s=>!!s)),super(t,r)}};function tg(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=fl(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const ng=typeof ArrayBuffer=="function",rg=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,eh=Object.prototype.toString,sg=typeof Blob=="function"||typeof Blob<"u"&&eh.call(Blob)==="[object BlobConstructor]",og=typeof File=="function"||typeof File<"u"&&eh.call(File)==="[object FileConstructor]";function gu(e){return ng&&(e instanceof ArrayBuffer||rg(e))||sg&&e instanceof Blob||og&&e instanceof File}function Is(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Is(e[n]))return!0;return!1}if(gu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Is(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Is(e[n]))return!0;return!1}function ig(e){const t=[],n=e.data,r=e;return r.data=pl(n,t),r.attachments=t.length,{packet:r,buffers:t}}function pl(e,t){if(!e)return e;if(gu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=pl(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=pl(e[r],t));return n}return e}function lg(e,t){return e.data=ml(e.data,t),delete e.attachments,e}function ml(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ml(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ml(e[n],t));return e}const ug=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ag=5;var Y;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Y||(Y={}));class cg{constructor(t){this.replacer=t}encode(t){return(t.type===Y.EVENT||t.type===Y.ACK)&&Is(t)?this.encodeAsBinary({type:t.type===Y.EVENT?Y.BINARY_EVENT:Y.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Y.BINARY_EVENT||t.type===Y.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=ig(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Xa(e){return Object.prototype.toString.call(e)==="[object Object]"}class yu extends De{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Y.BINARY_EVENT;r||n.type===Y.BINARY_ACK?(n.type=r?Y.EVENT:Y.ACK,this.reconstructor=new dg(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(gu(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Y[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Y.BINARY_EVENT||r.type===Y.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(o,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(yu.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Y.CONNECT:return Xa(n);case Y.DISCONNECT:return n===void 0;case Y.CONNECT_ERROR:return typeof n=="string"||Xa(n);case Y.EVENT:case Y.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ug.indexOf(n[0])===-1);case Y.ACK:case Y.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class dg{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=lg(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const fg=Object.freeze(Object.defineProperty({__proto__:null,Decoder:yu,Encoder:cg,get PacketType(){return Y},protocol:ag},Symbol.toStringTag,{value:"Module"}));function ut(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const hg=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class th extends De{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ut(t,"open",this.onopen.bind(this)),ut(t,"packet",this.onpacket.bind(this)),ut(t,"error",this.onerror.bind(this)),ut(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,o;if(hg.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:Y.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,h=n.pop();this._registerAckCallback(p,h),i.id=p}const u=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,a=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!u||(a?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},s),i=(...u)=>{this.io.clearTimeoutFn(o),n.apply(this,u)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((r,s)=>{const o=(i,u)=>i?s(i):r(u);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Y.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Y.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Y.EVENT:case Y.BINARY_EVENT:this.onevent(t);break;case Y.ACK:case Y.BINARY_ACK:this.onack(t);break;case Y.DISCONNECT:this.ondisconnect();break;case Y.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Y.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Y.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function nr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}nr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};nr.prototype.reset=function(){this.attempts=0};nr.prototype.setMin=function(e){this.ms=e};nr.prototype.setMax=function(e){this.max=e};nr.prototype.setJitter=function(e){this.jitter=e};class Dl extends De{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ro(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new nr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||fg;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new eg(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=ut(n,"open",function(){r.onopen(),t&&t()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},i=ut(n,"error",o);if(this._timeout!==!1){const u=this._timeout,a=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},u);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ut(t,"ping",this.onping.bind(this)),ut(t,"data",this.ondata.bind(this)),ut(t,"error",this.onerror.bind(this)),ut(t,"close",this.onclose.bind(this)),ut(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ao(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new th(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const fr={};function Nr(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=tg(e,t.path||"/socket.io"),r=n.source,s=n.id,o=n.path,i=fr[s]&&o in fr[s].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let a;return u?a=new Dl(r,t):(fr[s]||(fr[s]=new Dl(r,t)),a=fr[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Nr,{Manager:Dl,Socket:th,io:Nr,connect:Nr});const Xn=[{key:"happy",symbol:"😊",label:"hạnh phúc"},{key:"blessed",symbol:"😇",label:"có phúc"},{key:"loved",symbol:"🥰",label:"được yêu"},{key:"adorable",symbol:"☺️",label:"đáng yêu"},{key:"excited",symbol:"🤩",label:"hào hứng"},{key:"crazy",symbol:"🤪",label:"điên"},{key:"pleased",symbol:"😌",label:"sung sướng"},{key:"shy",symbol:"🤭",label:"khờ dại"},{key:"wonderful",symbol:"🌟",label:"tuyệt vời"},{key:"interesting",symbol:"🤔",label:"thú vị"},{key:"relaxed",symbol:"🍃",label:"thư giãn"},{key:"gift",symbol:"🎁",label:"mừng"},{key:"love",symbol:"❤️",label:"yêu"},{key:"inlove",symbol:"😍",label:"đang yêu"},{key:"grateful",symbol:"🙏",label:"biết ơn"},{key:"thankful",symbol:"😊",label:"biết ơn nhẹ"},{key:"sad",symbol:"😢",label:"buồn"},{key:"cry",symbol:"😭",label:"khóc"},{key:"angry",symbol:"😠",label:"tức giận"},{key:"mad",symbol:"🤬",label:"nổi giận"},{key:"shocked",symbol:"😮",label:"ngạc nhiên"},{key:"confused",symbol:"😕",label:"bối rối"},{key:"scared",symbol:"😨",label:"sợ hãi"},{key:"afraid",symbol:"😨",label:"hoảng sợ"},{key:"tired",symbol:"😴",label:"mệt mỏi"},{key:"silly",symbol:"🤡",label:"tinh nghịch"},{key:"cool",symbol:"😎",label:"tuyệt"},{key:"party",symbol:"🥳",label:"vui vẻ"},{key:"celebrate",symbol:"🎉",label:"ăn mừng"},{key:"proud",symbol:"😏",label:"tự hào"},{key:"hopeful",symbol:"🤞",label:"hy vọng"},{key:"relieved",symbol:"😅",label:"thở phào"},{key:"nostalgic",symbol:"🕰️",label:"nhớ lại"},{key:"fun",symbol:"😄",label:"vui"},{key:"bored",symbol:"😒",label:"chán"},{key:"curious",symbol:"🧐",label:"tò mò"},{key:"satisfied",symbol:"🤤",label:"hài lòng"},{key:"relax",symbol:"🌿",label:"thư thái"},{key:"thinking",symbol:"💭",label:"suy nghĩ"},{key:"celebration",symbol:"🎈",label:"vui mừng"},{key:"flower",symbol:"💐",label:"vui vẻ nhẹ"},{key:"kiss",symbol:"😘",label:"thương"},{key:"wow",symbol:"🤯",label:"sốc"},{key:"sweat",symbol:"😅",label:"hồi hộp"}],fi=e=>{if(!e)return"Just now";if(typeof e=="string")return e;if(typeof e=="object"&&e.year)try{return new Date(e.year.low||e.year,(e.month.low||e.month)-1,e.day.low||e.day,e.hour.low||e.hour,e.minute.low||e.minute,e.second.low||e.second).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return"Just now"}return"Just now"};function pg({peer:e}){const{user:t}=nt(),[n,r]=k.useState([]),[s,o]=k.useState(""),[i,u]=k.useState(!1),[a,c]=k.useState(""),[p,h]=k.useState(!1),D=k.useRef(null),y=k.useRef(null),m=k.useRef(null),v=k.useRef(null),N=k.useRef(null),g=(f,w)=>f||"";k.useEffect(()=>{let f=!1;return(async()=>{if(!(!e||!t)){h(!0);try{const x=await re.get(`/messages/conversation/${e.id}`);if(!f){const C=(x.data||[]).map(S=>({...S,direction:S.senderId===t.id?"out":"in",createdAt:fi(S.createdAt),text:g(S.text,S.icon)}));r(C)}}catch(x){console.error("Failed to load conversation",x)}finally{f||h(!1)}}})(),()=>f=!0},[e,t]),k.useEffect(()=>{if(!t)return;const f=localStorage.getItem("token");console.log("🔌 Connecting to Socket.IO...",{userId:t.id,token:!!f});const w=Nr(Uf,{auth:{token:f}});return y.current=w,w.on("connect",()=>{console.log("✅ Socket connected!",w.id)}),w.on("connect_error",x=>{console.error("❌ Socket connection failed:",x)}),w.on("message:new",x=>{if(console.log("📨 Received message:new event:",x),!e){console.log("⚠️ No peer selected, ignoring message");return}const C=[t.id,e.id].sort().join("-");console.log("🔍 Checking conversation:",{received:x.conversationId,expected:C}),x.conversationId===C?(console.log("✅ Message belongs to current conversation, adding to state"),r(S=>[...S,{...x.message,direction:x.message.senderId===t.id?"out":"in",createdAt:fi(x.message.createdAt),text:g(x.message.text,x.message.icon)}])):console.log("⚠️ Message for different conversation, ignoring")}),()=>{w.disconnect(),y.current=null}},[t,e]),k.useEffect(()=>{var f;(f=D.current)==null||f.scrollIntoView({behavior:"smooth"})},[n]),k.useEffect(()=>{if(!i)return;const f=w=>{v.current&&!v.current.contains(w.target)&&N.current&&!N.current.contains(w.target)&&u(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[i]);const d=async()=>{if(!s.trim()||!e)return;const f={toUserId:e.id,text:s};try{const w=await re.post("/messages/send",f);r(x=>[...x,{...w.data,direction:"out",createdAt:fi(w.data.createdAt),text:g(w.data.text,w.data.icon)}]),o(""),c("")}catch(w){console.error("Send failed",w)}};return e?l.jsxs("div",{className:"flex flex-col bg-white border rounded-lg h-full",children:[l.jsxs("div",{className:"p-4 border-b",children:[l.jsx("div",{className:"font-semibold",children:e.displayName||e.username}),l.jsxs("div",{className:"text-xs text-gray-500",children:["@",e.username]})]}),l.jsxs("div",{className:"p-4 flex-1 overflow-auto space-y-3",children:[p?l.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):n.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No messages"}):n.map((f,w)=>l.jsx("div",{className:`w-full flex ${f.direction==="out"?"justify-end":"justify-start"}`,children:l.jsx("div",{className:`inline-block max-w-[80%] p-3 rounded-lg ${f.direction==="out"?"bg-blue-600 text-white text-right":"bg-gray-200 text-gray-900"}`,children:l.jsx("div",{className:"flex items-center gap-3 text-lg whitespace-pre-wrap break-words",children:l.jsx("div",{className:"inline-block",children:f.text})})})},w)),l.jsx("div",{ref:D})]}),l.jsxs("div",{className:"p-3 border-t flex gap-2 relative",children:[l.jsx("button",{ref:N,onClick:()=>u(f=>!f),className:`px-3 py-2 rounded border bg-white text-xl ${i?"ring-2 ring-blue-300":""}`,title:"Choose emoji",children:"😄"}),i&&l.jsx("div",{ref:v,className:"absolute left-3 bottom-16 bg-white border rounded shadow p-3 w-64 max-h-48 overflow-auto z-50",children:l.jsx("div",{className:"grid grid-cols-7 gap-2",children:Xn.map(f=>l.jsx("button",{onClick:()=>{const w=f.symbol||f.label||"",x=m.current,C=x&&x.selectionStart||0,S=x&&x.selectionEnd||0,j=s.slice(0,C),R=s.slice(S),O=j+w+R;o(O),requestAnimationFrame(()=>{try{x&&x.focus();const Q=C+(w?w.length:0);x&&x.setSelectionRange(Q,Q)}catch{}})},className:"p-2 text-lg rounded hover:bg-gray-100 transition-colors",title:f.label,children:f.symbol},f.key))})})," ",l.jsx("input",{ref:m,value:s,onChange:f=>o(f.target.value),className:"flex-1 border rounded px-3 py-2",placeholder:"Nhập tin nhắn..."}),l.jsx("button",{onClick:d,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-900",children:"Gửi"})]})]}):l.jsx("div",{className:"bg-white border rounded-lg p-4 text-center text-gray-500",children:"Select a conversation"})}function mg(){const[e,t]=k.useState(null);return e?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx("div",{className:"border-b p-3 flex items-center justify-between bg-gray-50",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>t(null),className:"text-gray-500 hover:text-gray-700 text-sm",children:"← Quay lại"}),l.jsx("span",{className:"font-semibold text-sm",children:e.displayName||e.username})]})}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx(pg,{peer:e})})]}):l.jsx("div",{className:"h-full",children:l.jsx(w0,{onSelect:t})})}function Dg(e){return At({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}}]})(e)}function gg(e){return At({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]})(e)}function yg({className:e="w-4 h-4"}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}function vg({className:e="w-4 h-4"}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7a4 4 0 11-8 0 4 4 0 018 0zM9 14a6 6 0 00-6 6v1h12v-1a6 6 0 00-6-6zM21 12h-6"})})}function wg({className:e="w-4 h-4"}){return l.jsx("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}function xg({isOpen:e,onClose:t}){const{user:n}=nt(),[r,s]=k.useState([]),[o,i]=k.useState([]),[u,a]=k.useState(!1),c=async()=>{a(!0);try{const D=await re.get("/users/connections");s(D.data.following||[]),i(D.data.followers||[])}catch(D){console.error("Failed to load connections",D)}finally{a(!1)}};k.useEffect(()=>{e&&c()},[e]),k.useEffect(()=>{const D=y=>{try{const m=y.detail||{};m.targetId&&m.targetId===(n==null?void 0:n.id)&&(s(m.following||[]),i(m.followers||[]))}catch(m){console.warn("Failed to apply connections:update",m)}};return window.addEventListener("app:connections:update",D),()=>window.removeEventListener("app:connections:update",D)},[n==null?void 0:n.id]),k.useEffect(()=>{if(!e)return;const D=m=>{c()},y=m=>{c()};return window.addEventListener("app:user:follow",D),window.addEventListener("app:user:unfollow",y),()=>{window.removeEventListener("app:user:follow",D),window.removeEventListener("app:user:unfollow",y)}},[e]);const p=async(D,y)=>{try{y?await re.delete(`/users/follow/${D}`):await re.post(`/users/follow/${D}`),await c();try{const m={followerId:n==null?void 0:n.id,followingId:D},v=y?"app:user:unfollow":"app:user:follow";window.dispatchEvent(new CustomEvent(v,{detail:m}))}catch{}}catch(m){console.error("Follow toggle failed",m)}};if(!e)return null;const h=new Set(r.map(D=>D.id));return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-start md:items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-6xl shadow-xl overflow-hidden ring-1 ring-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-semibold",children:"Kết nối"}),l.jsx("p",{className:"text-base text-gray-500",children:"Quản lý những người bạn theo dõi và người đang theo dõi bạn"})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md bg-gradient-to-r from-slate-600 to-gray-700 text-white font-medium hover:from-slate-700 hover:to-gray-800 shadow-md transition transform hover:scale-105","aria-label":"Đóng kết nối",children:l.jsx("span",{className:"uppercase tracking-wide",children:"ĐÓNG"})})})]}),l.jsx("div",{className:"p-6",children:u?l.jsx("div",{className:"text-center py-8 text-gray-600",children:"Đang tải kết nối…"}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("section",{children:[l.jsx("h3",{className:"font-medium text-lg mb-3",children:"Đang theo dõi"}),l.jsxs("div",{className:"space-y-4",children:[r.length===0&&l.jsx("div",{className:"text-sm text-gray-600",children:"Bạn chưa theo dõi ai."}),r.map(D=>l.jsx(Ya,{profile:D,isFollowing:!0,onToggle:p},`f-${D.id}`))]})]}),l.jsxs("section",{children:[l.jsx("h3",{className:"font-medium text-lg mb-3",children:"Người theo dõi"}),l.jsxs("div",{className:"space-y-4",children:[o.length===0&&l.jsx("div",{className:"text-sm text-gray-600",children:"Chưa có người theo dõi."}),o.map(D=>l.jsx(Ya,{profile:D,isFollowing:h.has(D.id),isFollower:!0,onToggle:p},`r-${D.id}`))]})]})]})})]})})}function Ya({profile:e,isFollowing:t,isFollower:n,onToggle:r}){const{user:s}=nt(),o=async()=>{if(!(!e||!e.id))try{await re.delete(`/users/remove-follower/${e.id}`),window.dispatchEvent(new CustomEvent("app:user:unfollow",{detail:{followerId:e.id,followingId:s==null?void 0:s.id}}))}catch(u){console.error("Failed to remove follower",u)}},i=()=>{!e||!e.id||r(e.id,!!t)};return l.jsxs("div",{className:"flex items-center justify-between p-5 rounded-lg shadow-sm hover:shadow-lg transition-colors duration-150 bg-gradient-to-r from-gray-50 to-white",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[e.avatarUrl?l.jsx("img",{src:`http://localhost:5000${e.avatarUrl}`,alt:e.displayName||e.username,className:"w-12 h-12 rounded-full object-cover shadow-avatar"}):l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full flex items-center justify-center text-white font-bold text-base shadow-avatar",children:(e.displayName||e.username||"?")[0]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-800",children:e.displayName||e.username}),l.jsxs("div",{className:"text-sm text-gray-500",children:["@",e.username]}),e.bio&&l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:e.bio})]})]}),l.jsx("div",{children:e.id===s.id?l.jsx("span",{className:"text-sm text-gray-500",children:"Bạn"}):n?l.jsx("div",{className:"relative",children:l.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 rounded-md bg-gradient-to-r from-red-500 to-pink-600 text-white text-sm font-medium hover:from-red-600 hover:to-pink-700 shadow-md transition transform hover:scale-105",title:"Loại bỏ người này khỏi danh sách theo dõi",children:[l.jsx(wg,{className:"w-4 h-4 text-white"}),l.jsx("span",{className:"uppercase tracking-wide",children:"LOẠI BỎ"})]})}):t?l.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 rounded-md bg-gradient-to-r from-orange-500 to-amber-600 text-white text-sm font-medium hover:from-orange-600 hover:to-amber-700 shadow-md transition transform hover:scale-105",title:"Hủy theo dõi",children:[l.jsx(vg,{className:"w-4 h-4 text-white"}),l.jsx("span",{className:"uppercase tracking-wide",children:"HỦY THEO DÕI"})]}):l.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 rounded-md bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-sm font-medium hover:from-emerald-600 hover:to-teal-700 shadow-md transition transform hover:scale-105",title:"Theo dõi",children:[l.jsx(yg,{className:"w-4 h-4 text-white"}),l.jsx("span",{className:"uppercase tracking-wide",children:"THEO DÕI"})]})})]})}function Cg(){const{user:e,logout:t,updateUserOnly:n}=nt(),[r,s]=k.useState(!1),[o,i]=k.useState(!1),[u,a]=k.useState(!1),[c,p]=k.useState(!1),[h,D]=k.useState(!1),y=k.useRef(),[m,v]=k.useState(0),N=k.useRef(null),[g,d]=k.useState([]),[f,w]=k.useState(!1),x=k.useRef(null),[C,S]=k.useState(!1),[j,R]=k.useState(!0);k.useEffect(()=>{function z(ne){y.current&&!y.current.contains(ne.target)&&D(!1)}return window.addEventListener("click",z),()=>window.removeEventListener("click",z)},[]),k.useEffect(()=>{let z=null;if(!e)return;const ne=localStorage.getItem("token");try{const $=Nr(Uf,{auth:{token:ne}});N.current=$,$.on("connect",()=>console.log("Header socket connected",$.id)),$.on("post:created",_=>{try{window.dispatchEvent(new CustomEvent("app:post:created",{detail:_}))}catch(F){console.warn("Failed to forward post:created",F)}}),$.on("post:updated",_=>{try{window.dispatchEvent(new CustomEvent("app:post:updated",{detail:_}))}catch(F){console.warn("Failed to forward post:updated",F)}}),$.on("post:commented",_=>{try{window.dispatchEvent(new CustomEvent("app:post:commented",{detail:_}))}catch(F){console.warn("Failed to forward post:commented",F)}}),$.on("post:deleted",_=>{try{console.debug("Header socket received post:deleted",_),window.dispatchEvent(new CustomEvent("app:post:deleted",{detail:_}))}catch(F){console.warn("Failed to forward post:deleted",F)}}),$.on("notification:new",_=>{console.log("Header received notification:new",_);const F=_.fromName||_.from||_.fromUserId||"Someone",b=_.type||"info",B=_.notifId||`${_.fromUserId}-${_.postId}-${b}-${Date.now()}`;d(I=>{const P=I.some(q=>q.id===B),V=I.some(q=>q.fromUserId===_.fromUserId&&q.postId===_.postId&&q.type===b);return P||V?I.map(q=>q.id===B||q.fromUserId===_.fromUserId&&q.postId===_.postId&&q.type===b?{...q,type:b,message:_.message,timestamp:_.timestamp||Date.now(),read:!1}:q):(v(q=>q+1),[{id:B,type:b,message:_.message,from:F,fromUserId:_.fromUserId,postId:_.postId,timestamp:_.timestamp||Date.now(),read:!1},...I])})}),z=_=>{const F=_.detail||_;if(!F)return;const b=F.fromName||F.from||F.fromUserId||"Someone",B=F.type||"info",I=F.notifId||F.id||`${F.fromUserId}-${F.postId}-${B}-${Date.now()}`;d(P=>P.some(q=>q.id===I)?P:(v(q=>q+1),[{id:I,type:B,message:F.message,from:b,fromUserId:F.fromUserId,postId:F.postId,timestamp:F.timestamp||Date.now(),read:!1},...P]))},window.addEventListener("app:notification:new",z),$.on("post:likes:update",_=>{try{window.dispatchEvent(new CustomEvent("app:post:likes:update",{detail:_}))}catch(F){console.warn("Failed to forward post:likes:update",F)}}),$.on("user:follow",_=>{try{window.dispatchEvent(new CustomEvent("app:user:follow",{detail:_}))}catch(F){console.warn("Failed to forward user:follow",F)}try{_&&_.followingId&&_.followingId===(e==null?void 0:e.id)&&n(e||{})}catch{}}),$.on("connections:update",_=>{try{window.dispatchEvent(new CustomEvent("app:connections:update",{detail:_}))}catch(F){console.warn("Failed to forward connections:update",F)}}),$.on("user:unfollow",_=>{try{window.dispatchEvent(new CustomEvent("app:user:unfollow",{detail:_}))}catch(F){console.warn("Failed to forward user:unfollow",F)}try{_&&_.followingId&&_.followingId===(e==null?void 0:e.id)&&n(e||{})}catch{}}),$.on("user:follow:ack",_=>{try{window.dispatchEvent(new CustomEvent("app:user:follow",{detail:_}))}catch(F){console.warn("Failed to forward user:follow:ack",F)}try{_&&_.followingId&&_.followingId===(e==null?void 0:e.id)&&n(e||{})}catch{}}),$.on("user:unfollow:ack",_=>{try{window.dispatchEvent(new CustomEvent("app:user:unfollow",{detail:_}))}catch(F){console.warn("Failed to forward user:unfollow:ack",F)}try{_&&_.followingId&&_.followingId===(e==null?void 0:e.id)&&n(e||{})}catch{}}),$.on("user:updated",_=>{try{window.dispatchEvent(new CustomEvent("app:user:updated",{detail:_}))}catch(F){console.warn("Failed to forward user:updated",F)}try{_&&_.user&&_.user.id===(e==null?void 0:e.id)&&n(_.user)}catch{}}),$.on("notification:remove",_=>{try{console.log("Header received notification:remove",_),d(F=>{if(!_)return F;let b=F;if(Array.isArray(_.notifIds)&&_.notifIds.length>0){const I=new Set(_.notifIds);b=F.filter(P=>!I.has(P.id))}else _.fromUserId&&_.postId&&_.type&&(b=F.filter(I=>!(I.fromUserId===_.fromUserId&&I.postId===_.postId&&I.type===_.type)));const B=F.length-b.length;return B>0&&v(I=>Math.max(0,I-B)),b})}catch(F){console.warn("Failed to process notification:remove",F)}})}catch($){console.error("Header socket init failed",$)}return()=>{N.current&&(N.current.disconnect(),N.current=null);try{typeof z=="function"&&window.removeEventListener("app:notification:new",z)}catch{}}},[e]),k.useEffect(()=>{e&&(async()=>{try{const z=localStorage.getItem("token"),ne=await fetch("http://localhost:5000/notifications",{headers:{Authorization:`Bearer ${z}`}});if(!ne.ok)return;const $=await ne.json();if(Array.isArray($)){const _=$.map(b=>{let B=b.createdAt;try{B&&typeof B=="object"&&typeof B.toNumber=="function"?B=B.toNumber():B=Number(B)||Date.now()}catch{B=Date.now()}return{id:b.id,type:b.type,message:b.message,from:b.fromName||b.from||"Someone",fromUserId:b.fromUserId,postId:b.postId,timestamp:B,read:b.read===!0}}).sort((b,B)=>Number(B.timestamp)-Number(b.timestamp));d(_);const F=_.filter(b=>!b.read).length;v(typeof F=="number"?F:_.length)}}catch(z){console.warn("Failed to load persisted notifications",z)}})()},[e]);const O=()=>{D(!1),a(!0)},Q=()=>{D(!1),p(!0)},ge=()=>{const z=!f;w(z),z&&(v(0),d(ne=>ne.map($=>({...$,read:!0}))),(async()=>{try{const ne=localStorage.getItem("token"),$=await fetch("http://localhost:5000/notifications/mark-read",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify({})});if(!$.ok){console.error("Mark-read failed:",$.status),v(F=>g.filter(b=>!b.read).length),d(F=>F.map(b=>({...b,read:!1})));return}const _=await $.json();console.log("/notifications/mark-read response:",$.status,_),_.updated===0&&g.length>0&&(console.warn("Server marked 0 notifications as read - may need to reload"),setTimeout(async()=>{try{const F=await fetch("http://localhost:5000/notifications",{headers:{Authorization:`Bearer ${ne}`}});if(F.ok){const B=(await F.json()).map(P=>{let V=P.createdAt;try{V&&typeof V=="object"&&typeof V.toNumber=="function"?V=V.toNumber():V=Number(V)||Date.now()}catch{V=Date.now()}return{id:P.id,type:P.type,message:P.message,from:P.fromName||P.from||"Someone",fromUserId:P.fromUserId,postId:P.postId,timestamp:V,read:P.read===!0}}).sort((P,V)=>Number(V.timestamp)-Number(P.timestamp));d(B);const I=B.filter(P=>!P.read).length;v(I),console.log("Synced with server - unread count:",I)}}catch(F){console.warn("Failed to sync with server after mark-read",F)}},500))}catch(ne){console.warn("Failed to persist notifications read state",ne),v($=>g.filter(_=>!_.read).length),d($=>$.map(_=>({..._,read:!1})))}})())};k.useEffect(()=>{function z(ne){x.current&&!x.current.contains(ne.target)&&w(!1)}if(f)return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[f]),k.useEffect(()=>{R(!0)},[]),k.useEffect(()=>{e&&R(!0)},[e]),k.useEffect(()=>{R(!(C||o||f))},[C,o,f]);const ee=()=>{var z,ne,$;return e!=null&&e.avatarUrl?l.jsx("img",{src:`http://localhost:5000${e.avatarUrl}`,alt:"avatar",className:"w-8 h-8 rounded-full object-cover shadow-avatar"}):l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-avatar",children:(($=((z=e==null?void 0:e.displayName)==null?void 0:z[0])||((ne=e==null?void 0:e.username)==null?void 0:ne[0]))==null?void 0:$.toUpperCase())||"U"})};return l.jsxs(l.Fragment,{children:[l.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white border-b border-gray-200 shadow-sm z-50",children:l.jsxs("div",{className:"flex max-w-7xl w-full gap-10 mx-auto px-6 items-center justify-between h-20",children:[l.jsx("div",{className:"text-2xl font-bold uppercase bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent font-['Inter',sans-serif] tracking-wide",children:"MẠNG XÃ HỘI MINI"}),l.jsx("div",{className:"flex-1 max-w-2xl mx-8 relative",children:l.jsxs("div",{className:"relative",children:[l.jsx(m0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Tìm kiếm người dùng, bài viết...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-base text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200 font-['Inter',sans-serif] shadow-sm"})]})}),l.jsx("div",{className:"flex items-center gap-2",children:e?l.jsxs(l.Fragment,{children:[l.jsx("button",{"aria-label":"Trang chủ",className:`p-3 rounded-xl transition-all duration-200 ${j?"bg-blue-100 text-blue-600 shadow-sm":"text-gray-600 hover:text-blue-600 hover:bg-gray-100"}`,onClick:()=>{try{window.dispatchEvent(new CustomEvent("app:navigate:home"))}catch(z){console.warn("Failed to navigate home",z)}},children:j?l.jsx(h0,{className:"w-5 h-5"}):l.jsx(gg,{className:"w-5 h-5"})}),l.jsx("button",{"aria-label":"Kết nối",className:`p-3 rounded-xl transition-all duration-200 ${C?"bg-blue-100 text-blue-600 shadow-sm":"text-gray-600 hover:text-blue-600 hover:bg-gray-100"}`,onClick:()=>S(z=>!z),children:l.jsx(g0,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>{S(!1),i(!0)},"aria-label":"Tin nhắn",className:`p-3 rounded-xl transition-all duration-200 ${o?"bg-blue-100 text-blue-600 shadow-sm":"text-gray-600 hover:text-blue-600 hover:bg-gray-100"}`,children:l.jsx(Dg,{className:"w-5 h-5"})}),l.jsxs("div",{className:"relative",ref:x,children:[l.jsx("button",{"aria-label":"Thông báo",className:`p-3 rounded-xl transition-all duration-200 relative ${f?"bg-blue-100 text-blue-600 shadow-sm":"text-gray-600 hover:text-blue-600 hover:bg-gray-100"}`,onClick:ge,children:l.jsxs("div",{className:"relative",children:[l.jsx(d0,{className:"w-5 h-5"}),m>0&&l.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs flex items-center justify-center font-medium",children:m})]})}),f&&l.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white border border-gray-200 rounded-xl shadow-lg py-2 z-50 max-h-96 overflow-y-auto",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:l.jsx("h3",{className:"font-semibold text-gray-900 font-['Inter',sans-serif]",children:"Thông báo"})}),g.length===0?l.jsx("div",{className:"px-4 py-8 text-center text-gray-500 text-sm font-['Inter',sans-serif]",children:"Chưa có thông báo nào"}):l.jsx("div",{className:"max-h-80 overflow-y-auto",children:g.map(z=>l.jsxs("div",{className:`px-4 py-3 border-b last:border-b-0 transition-colors flex items-start gap-3 ${z.read?"hover:bg-gray-50":"bg-gradient-to-r from-blue-50 to-white border-l-4 border-blue-400"}`,children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-red-400 rounded-full flex items-center justify-center text-white font-bold text-base flex-shrink-0 shadow-md",children:"❤️"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"text-sm text-gray-900 font-['Inter',sans-serif]",children:[l.jsx("span",{className:"font-semibold text-gray-900 mr-1",children:z.from}),l.jsx("span",{className:"text-gray-800",children:z.message?z.message:z.type==="comment"?"đã bình luận vào bài viết của bạn":z.type==="reply"?"đã trả lời bình luận của bạn":z.type==="like"?"đã thích bài viết của bạn":"đã tương tác với bài viết của bạn"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1 font-['Inter',sans-serif]",children:new Date(z.timestamp).toLocaleString("vi-VN")})]}),!z.read&&l.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full flex-shrink-0 mt-2 shadow-sm"})]},z.id))})]})]}),l.jsxs("div",{className:"relative",ref:y,children:[l.jsxs("button",{onClick:()=>D(z=>!z),className:"flex items-center gap-2 px-3 py-2 rounded-xl hover:bg-gray-100 transition-all duration-200","aria-haspopup":"true","aria-expanded":h,children:[ee(),l.jsx(f0,{className:"text-gray-500 w-3 h-3"})]}),h&&l.jsxs("div",{className:"absolute right-0 mt-2 w-52 bg-white border border-gray-200 rounded-xl shadow-lg py-2 z-50",children:[l.jsx("button",{onClick:O,className:"w-full text-left px-4 py-3 text-sm hover:bg-gray-50 font-['Inter',sans-serif] transition-colors",children:"Cập nhật tài khoản"}),l.jsx("button",{onClick:Q,className:"w-full text-left px-4 py-3 text-sm hover:bg-gray-50 font-['Inter',sans-serif] transition-colors",children:"Đổi mật khẩu"}),l.jsx("div",{className:"border-t my-1 mx-2"}),l.jsx("button",{onClick:()=>{D(!1),t()},className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 font-['Inter',sans-serif] transition-colors",children:"Đăng xuất"})]})]})]}):l.jsx("button",{onClick:()=>s(!0),className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-2.5 rounded-xl text-sm font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-sm font-['Inter',sans-serif]",children:"Đăng nhập"})})]})}),r&&l.jsx(u0,{onClose:()=>s(!1)}),u&&l.jsx(y0,{onClose:()=>a(!1)}),c&&l.jsx(v0,{onClose:()=>p(!1)}),C&&l.jsx(xg,{isOpen:C,onClose:()=>S(!1)}),o&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-5xl h-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Tin nhắn"}),l.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx(mg,{})})]})})]})}function Eg({onPostCreated:e}){var x,C,S;const{user:t}=nt(),[n,r]=k.useState(""),[s,o]=k.useState(null),[i,u]=k.useState(null),[a,c]=k.useState(!1),[p,h]=k.useState(null),[D,y]=k.useState(Xn),[m,v]=k.useState(!1),N=k.useRef(null),g=k.useRef(null),d=j=>{h(j);const R=g.current;if(R&&typeof R.selectionStart=="number"){const O=R.selectionStart,Q=R.selectionEnd,ge=n.slice(0,O)+j+n.slice(Q);r(ge),requestAnimationFrame(()=>{try{R.focus();const ee=O+j.length;R.setSelectionRange(ee,ee)}catch{}})}else r(O=>O+j)};k.useEffect(()=>{function j(R){N.current&&!N.current.contains(R.target)&&v(!1)}return document.addEventListener("click",j),()=>document.removeEventListener("click",j)},[]);const f=j=>{const R=j.target.files[0];if(R){o(R);const O=new FileReader;O.onload=Q=>u(Q.target.result),O.readAsDataURL(R)}},w=async j=>{if(j.preventDefault(),!(!n.trim()&&!s)){c(!0);try{const R=new FormData;R.append("content",n),p&&R.append("icon",p),s&&R.append("image",s),await re.post("/posts",R,{headers:{"Content-Type":"multipart/form-data"}}),r(""),o(null),u(null),h(null),e==null||e()}catch(R){console.error("Error creating post:",R);try{window.appToast?window.appToast("Không thể tạo bài viết. Vui lòng thử lại."):alert("Failed to create post")}catch{}}finally{c(!1)}}};return t?l.jsx("div",{className:"bg-white border border-gray-300 rounded-lg p-6 mb-6",children:l.jsx("form",{onSubmit:w,children:l.jsxs("div",{className:"flex flex-col items-start text-left",children:[t!=null&&t.avatarUrl?l.jsx("img",{src:`http://localhost:5000${t.avatarUrl}`,alt:(t==null?void 0:t.displayName)||(t==null?void 0:t.username),className:"w-14 h-14 rounded-full object-cover mb-3 self-start shadow-avatar"}):l.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold mb-3 self-start shadow-avatar",children:(S=((x=t==null?void 0:t.displayName)==null?void 0:x[0])||((C=t==null?void 0:t.username)==null?void 0:C[0]))==null?void 0:S.toUpperCase()}),l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-4 focus-within:ring-2 focus-within:ring-blue-200 transition",children:[l.jsx("textarea",{ref:g,value:n,onChange:j=>r(j.target.value),placeholder:"Bạn đang nghĩ gì?",id:"composer-textarea",className:"w-full resize-none bg-transparent outline-none text-gray-900 placeholder-gray-400 text-base min-h-[96px] max-h-72 p-0 leading-relaxed",rows:"3"}),i&&l.jsxs("div",{className:"mt-3 relative",children:[l.jsx("img",{src:i,alt:"Preview",className:"w-full max-h-64 rounded-md object-cover"}),l.jsx("button",{type:"button",onClick:()=>{o(null),u(null)},className:"absolute top-2 right-2 bg-gray-800 bg-opacity-50 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-opacity-70",children:"×"})]})]}),l.jsxs("div",{className:"flex justify-between items-center mt-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"cursor-pointer text-blue-500 hover:text-blue-600 flex items-center gap-2",children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),l.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),l.jsx("polyline",{points:"21,15 16,10 5,21"})]}),"Ảnh",l.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"hidden"})]}),l.jsxs("div",{className:"relative",ref:N,children:[l.jsxs("button",{type:"button",onClick:j=>{j.stopPropagation(),v(R=>!R)},className:"flex items-center gap-2 px-2 py-1 rounded-md text-sm bg-transparent hover:bg-gray-50",title:p?"Thay đổi cảm xúc":"Thêm cảm xúc",children:[l.jsx("span",{className:"text-lg",children:p||"😊"}),l.jsx("span",{className:"text-sm text-gray-700",children:"Cảm xúc"}),p&&l.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),h(null)},className:"ml-2 text-xs text-gray-500 hover:text-gray-700",title:"Xóa cảm xúc",children:"×"})]}),m&&l.jsxs("div",{className:"absolute z-40 mt-2 w-80 md:w-96 bg-white border border-gray-200 rounded-md shadow-lg p-4",children:[l.jsx("div",{className:"flex items-center mb-2",children:l.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Chọn cảm xúc"})}),l.jsx("div",{className:"max-h-60 overflow-y-auto overflow-x-hidden pr-3",children:l.jsx("div",{className:"grid grid-cols-8 gap-2",children:D.map(({key:j,symbol:R,label:O})=>l.jsx("button",{type:"button",onClick:()=>{d(R)},className:"w-12 h-12 rounded-md flex items-center justify-center text-2xl transition-colors hover:bg-gray-100",title:O,children:R},j))})})]})]})]}),l.jsx("button",{type:"submit",disabled:!n.trim()&&!s||a,className:"bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:a?"Đang đăng...":"Đăng"})]})]})]})})}):null}var Fg=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};const kg=Za(Fg);function Sg({post:e,author:t,isOpen:n,onClose:r,onPostUpdated:s}){var _,F;const[o,i]=k.useState((e==null?void 0:e.content)||""),[u,a]=k.useState((e==null?void 0:e.icon)||""),[c,p]=k.useState(null),[h,D]=k.useState(e!=null&&e.imageUrl?`http://localhost:5000${e.imageUrl}`:null),[y,m]=k.useState(!1),[v,N]=k.useState(!1),[g,d]=k.useState(!1),f=k.useRef(null),w=k.useRef(null),x=k.useRef(null),C=k.useRef(null),S=k.useRef(null),[j,R]=k.useState({top:0,left:0,width:320}),O=k.useRef(!1),Q=k.useRef(null);k.useEffect(()=>{e&&(i(e.content||""),a(e.icon||""),D(e.imageUrl?`http://localhost:5000${e.imageUrl}`:null),p(null),m(!1))},[e]),k.useEffect(()=>{n&&e&&(i(e.content||""),a(e.icon||""),D(e.imageUrl?`http://localhost:5000${e.imageUrl}`:null),p(null),m(!1))},[n,e]),k.useEffect(()=>{if(!g||!x.current)return;const b=()=>{const P=x.current.getBoundingClientRect(),V=16,q=Math.max(200,window.innerWidth-V*2);let G=Math.min(420,q);if(S.current){const W=S.current.getBoundingClientRect(),L=Math.max(200,W.width-32);G=Math.min(G,L)}let de=P.left;if(S.current){const W=S.current.getBoundingClientRect();de=W.left+Math.max(8,(W.width-G)/2)}de+G>window.innerWidth-V&&(de=window.innerWidth-V-G),de<V&&(de=V);const rt=window.innerHeight-P.bottom-8,Cn=P.top-8,Rt=Math.min(420,Math.max(180,Math.floor(Xn.length/8*40)));let st=Rt,Qe,T="below";rt>=Rt+V?(T="below",st=Rt,Qe=P.bottom+8):Cn>=Rt+V?(T="above",st=Rt,Qe=P.top-8-st):rt>=Cn?(T="below",st=Math.max(120,rt-V),Qe=P.bottom+8):(T="above",st=Math.max(120,Cn-V),Qe=P.top-8-st);const M=V,H=window.innerHeight-V-st;Qe<M&&(Qe=M),Qe>H&&(Qe=H),R({top:Qe,left:de,width:G,place:T,maxHeight:st})};b();const B={id:null},I=()=>{O.current=!0,Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{O.current=!1},300),B.id&&cancelAnimationFrame(B.id),B.id=requestAnimationFrame(()=>{b(),B.id=null})};return window.addEventListener("resize",b),window.addEventListener("scroll",I,{passive:!0}),S.current&&S.current.addEventListener("scroll",I,{passive:!0}),()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",I),S.current&&S.current.removeEventListener("scroll",I),Q.current&&clearTimeout(Q.current),B.id&&cancelAnimationFrame(B.id)}},[g]);const ge=b=>{const B=b.target.files[0];if(B){p(B),m(!1);const I=new FileReader;I.onload=P=>{D(P.target.result)},I.readAsDataURL(B)}},ee=k.useMemo(()=>{try{if(!o)return[];const b=kg(),B=o.match(b);return Array.isArray(B)?B:[]}catch{return[]}},[o]),z=(b,B=4)=>{if(!b||b.length===0)return null;const I=b.slice(0,B),P=b.length-I.length;return l.jsxs("div",{className:"flex items-center gap-1 ml-3",children:[I.map((V,q)=>l.jsx("span",{className:"text-lg leading-none",children:V},q)),P>0&&l.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["+",P]})]})};ee&&ee.length>0&&ee[0];const ne=()=>{p(null),D(null),m(!0),f.current&&(f.current.value="")},$=async b=>{var B,I,P,V,q;if(b.preventDefault(),!!o.trim()){N(!0);try{const G=new FormData;G.append("content",o),c&&G.append("image",c),y&&G.append("removeImage","true");const de=await re.put(`/posts/${e.id}`,G);console.log("✅ Post updated:",de.data),window.dispatchEvent(new CustomEvent("app:post:updated",{detail:{postId:e.id,content:o,imageUrl:c?"new-image":y?"":e.imageUrl}})),s==null||s(),r()}catch(G){console.error("❌ Error updating post:",G,(B=G==null?void 0:G.response)==null?void 0:B.data);const de=((P=(I=G==null?void 0:G.response)==null?void 0:I.data)==null?void 0:P.error)||((q=(V=G==null?void 0:G.response)==null?void 0:V.data)==null?void 0:q.message);try{alert(de||G.message||"Lỗi khi cập nhật bài viết!")}catch{}}finally{N(!1)}}};return n?l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[l.jsx("div",{ref:S,className:"bg-white rounded-lg w-full max-w-lg max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Chỉnh sửa bài viết"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"×"})]}),l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t!=null&&t.avatarUrl?l.jsx("img",{src:`http://localhost:5000${t.avatarUrl}`,alt:(t==null?void 0:t.displayName)||(t==null?void 0:t.username),className:"w-10 h-10 rounded-full object-cover shadow-avatar"}):l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold shadow-avatar",children:(((_=t==null?void 0:t.displayName)==null?void 0:_[0])||((F=t==null?void 0:t.username)==null?void 0:F[0])||"U").toUpperCase()}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.username)||"Unknown User"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Chỉnh sửa bài viết"})]})]}),l.jsxs("form",{onSubmit:$,children:[l.jsx("div",{className:"mb-4",children:l.jsx("textarea",{ref:C,value:o,onChange:b=>i(b.target.value),placeholder:"Bạn đang nghĩ gì?",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4",required:!0})}),h&&l.jsxs("div",{className:"mb-4 relative",children:[l.jsx("img",{src:h,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border"}),l.jsx("button",{type:"button",onClick:ne,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600",children:"×"})]}),l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsxs("button",{type:"button",onClick:()=>{var b;return(b=f.current)==null?void 0:b.click()},className:"flex items-center gap-2 text-blue-500 hover:text-blue-600",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Ảnh"]}),l.jsx("div",{className:"ml-2 mr-1 flex items-center",children:z(ee,4)}),l.jsx("div",{className:"relative",children:l.jsx("button",{ref:x,type:"button",onClick:b=>{b.stopPropagation(),d(B=>!B)},className:"flex items-center gap-2 text-blue-500 hover:text-blue-600",children:"Cảm xúc"})})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hủy"}),l.jsxs("button",{type:"submit",disabled:v||!o.trim(),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[v&&l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v?"Đang cập nhật...":"Cập nhật"]})]})]}),l.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:ge,className:"hidden"})]})}),g&&x.current&&hf.createPortal(l.jsxs("div",{ref:w,className:"fixed bg-white border border-gray-200 rounded-md shadow-lg p-4",style:{position:"fixed",zIndex:99999,top:typeof j.top=="number"?`${j.top}px`:j.top,left:typeof j.left=="number"?`${j.left}px`:j.left,width:j.width,maxWidth:"calc(100% - 48px)",maxHeight:j.maxHeight||420,overflow:"hidden",boxShadow:"0 8px 30px rgba(2,6,23,0.2)"},"aria-hidden":!g,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Chọn cảm xúc"}),l.jsx("button",{type:"button",onClick:()=>d(!1),className:"w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center text-gray-600 text-sm font-bold",title:"Đóng",children:"×"})]}),l.jsx("div",{className:"overflow-y-auto overflow-x-hidden pr-3",style:{maxHeight:(j.maxHeight||420)-64},children:l.jsx("div",{className:"grid auto-rows-min gap-2",style:{gridTemplateColumns:"repeat(auto-fill, minmax(40px, 1fr))"},children:Xn.map(({key:b,symbol:B,label:I})=>l.jsx("button",{type:"button",onClick:()=>{try{const P=C.current;if(P&&typeof P.selectionStart=="number"){const V=P.selectionStart,q=P.selectionEnd,G=o.slice(0,V)+B+o.slice(q);i(G),setTimeout(()=>{P.focus();const de=V+B.length;P.selectionStart=P.selectionEnd=de},0)}else i(V=>V+B)}catch{i(V=>V+B)}},className:"w-10 h-10 rounded-md flex items-center justify-center text-2xl transition-colors hover:bg-gray-100",title:I,children:B},b))})})]}),document.body)]}):null}function Ga(e){if(!e)return null;if(Array.isArray(e))return l.jsx("span",{className:"flex items-center gap-1",children:e.map((t,n)=>l.jsx("span",{className:"text-lg",children:t},n))});if(typeof e=="string"&&e.includes(",")){const t=e.split(",").map(n=>n.trim()).filter(Boolean);return t.length===0?null:l.jsx("span",{className:"flex items-center gap-1",children:t.map((n,r)=>l.jsx("span",{className:"text-lg",children:n},r))})}return l.jsx("span",{className:"text-lg",children:e})}const Ng=e=>{var n,r;if(!e)return null;const t=s=>s==null?"":typeof s=="object"&&typeof s.toNumber=="function"?String(s.toNumber()):String(s);if(e.comment&&e.author){const s=e.comment;return{comment:{id:t(s.id||s.commentId||s._id||s.identity||((r=(n=s.identity)==null?void 0:n.toNumber)==null?void 0:r.call(n))),content:s.content,createdAt:s.createdAt,parentId:t(s.parentId||s.parent||null),icon:s.icon||""},author:e.author,parent:e.parent||null}}if(e.id&&e.content){const s=e.author||{};return{comment:{id:t(e.id),content:e.content,createdAt:e.createdAt,parentId:t(e.parentId||e.parent||null),icon:e.icon||""},author:s}}if(e.comment&&e.comment.id){const s=e.comment;return s.author?{comment:{id:t(s.id),content:s.content,createdAt:s.createdAt,parentId:t(s.parentId||s.parent||null),icon:s.icon||""},author:s.author}:{comment:{id:t(s.id),content:s.content,createdAt:s.createdAt,parentId:t(s.parentId||s.parent||null)},author:{}}}return null};function jg({postId:e,parentId:t,onPosted:n,onCancel:r}){var f,w;const{user:s}=nt(),[o,i]=k.useState(""),[u,a]=k.useState(!1),[c,p]=k.useState(!1),[h,D]=k.useState(""),y=k.useRef(null),m=k.useRef(null),[v,N]=k.useState(null),g=k.useRef(null),d=x=>{if(D(x),y.current&&typeof y.current.selectionStart=="number"){const C=y.current.selectionStart,S=y.current.selectionEnd,j=o.slice(0,C)+x+o.slice(S);i(j),requestAnimationFrame(()=>{try{y.current.focus();const R=C+x.length;y.current.setSelectionRange(R,R)}catch{}})}else i(C=>C+x)};return k.useEffect(()=>{try{y.current&&y.current.focus()}catch{}},[]),k.useEffect(()=>{function x(C){g.current&&!g.current.contains(C.target)&&p(!1)}return document.addEventListener("click",x),()=>document.removeEventListener("click",x)},[]),l.jsx("form",{onSubmit:async x=>{if(x.preventDefault(),!!o.trim()){a(!0);try{const C={content:o};t&&(C.parentId=t),h&&(C.icon=h);const S=await re.post(`/posts/${e}/comments`,C);if(S.data&&S.data.comment){const j=Ng(S.data.comment);j&&n(j)}i(""),D(""),r==null||r()}catch(C){console.error("Failed to post inline comment",C)}finally{a(!1)}}},className:"mt-2",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:s!=null&&s.avatarUrl?l.jsx("img",{src:`http://localhost:5000${s.avatarUrl}`,alt:s.displayName||s.username,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-sm text-gray-700",children:(((f=s==null?void 0:s.displayName)==null?void 0:f[0])||((w=s==null?void 0:s.username)==null?void 0:w[0])||"U").toUpperCase()})}),l.jsxs("div",{className:"flex-1 flex gap-2 items-center",children:[l.jsx("input",{ref:y,value:o,onChange:x=>i(x.target.value),placeholder:"Viết bình luận...",className:"flex-1 bg-gray-100 rounded-full px-4 py-2 text-sm focus:outline-none"}),l.jsxs("div",{className:"relative overflow-visible",children:[l.jsx("button",{ref:m,type:"button",onClick:x=>{if(x.stopPropagation(),c){p(!1);return}try{const C=m.current.getBoundingClientRect(),S=Math.min(384,window.innerWidth*.9);let j=C.left;j+S>window.innerWidth&&(j=window.innerWidth-S-8);const R=C.bottom+8;N({top:R,left:j,width:S}),p(!0)}catch{p(S=>!S)}},className:"px-2 py-1 rounded-full hover:bg-gray-100",title:"Chọn cảm xúc",children:h||"😊"}),c&&v&&l.jsxs("div",{ref:g,className:"fixed bg-white border border-gray-200 rounded-md shadow-lg p-3",style:{top:v.top+"px",left:v.left+"px",width:v.width+"px",maxHeight:"60vh",zIndex:9999},children:[l.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Chọn cảm xúc"}),l.jsx("div",{className:"max-h-60 overflow-y-auto overflow-x-hidden pr-6",children:l.jsx("div",{className:"grid grid-cols-8 gap-2",children:Xn.map(x=>l.jsx("button",{type:"button",onClick:C=>{C.stopPropagation(),d(x.symbol)},className:"w-12 h-12 rounded-md flex items-center justify-center text-2xl transition-colors hover:bg-gray-100",title:x.label,children:x.symbol},x.key))})})]})]}),l.jsx("button",{type:"submit",disabled:!o.trim()||u,className:"bg-blue-500 text-white px-3 py-1 rounded-sm text-sm disabled:opacity-60",children:u?"...":"Gửi"}),l.jsx("button",{type:"button",onClick:x=>{x.stopPropagation();try{i("")}catch{}try{D("")}catch{}try{p(!1)}catch{}r==null||r()},className:"text-sm text-gray-700 ml-2 px-2 py-1 hover:bg-gray-100 rounded-sm transition-colors",children:"Hủy"})]})]})})}function bg({post:e,author:t,onDelete:n}){var Cn,Rt,st,Qe;const[r,s]=k.useState(!1),[o,i]=k.useState(e.likesCount||0),[u,a]=k.useState(!1),[c,p]=k.useState(!1),{user:h}=nt(),[D,y]=k.useState([]),[m,v]=k.useState(""),[N,g]=k.useState(!1),[d,f]=k.useState(!1),[w,x]=k.useState(""),C=k.useRef(null),S=k.useRef(null),j=k.useRef(null),[R,O]=k.useState(null),[Q,ge]=k.useState(!1),[ee,z]=k.useState(null),[ne,$]=k.useState(null),[_,F]=k.useState(!1),[b,B]=k.useState(!1),I=T=>{var H,W;if(!T)return null;const M=L=>L==null?"":typeof L=="object"&&typeof L.toNumber=="function"?String(L.toNumber()):String(L);if(T.comment&&T.author){const L=T.comment;return{comment:{id:M(L.id||L.commentId||L._id||L.identity||((W=(H=L.identity)==null?void 0:H.toNumber)==null?void 0:W.call(H))),content:L.content,createdAt:L.createdAt,parentId:M(L.parentId||L.parent||null),icon:L.icon||""},author:T.author,parent:T.parent||null}}if(T.id&&T.content){const L=T.author||{};return{comment:{id:M(T.id),content:T.content,createdAt:T.createdAt,parentId:M(T.parentId||T.parent||null),icon:T.icon||""},author:L}}if(T.comment&&T.comment.id){const L=T.comment;return L.author?{comment:{id:M(L.id),content:L.content,createdAt:L.createdAt,parentId:M(L.parentId||L.parent||null),icon:L.icon||""},author:L.author}:{comment:{id:M(L.id),content:L.content,createdAt:L.createdAt,parentId:M(L.parentId||L.parent||null)},author:{}}}return null},P=T=>{const M=new Map,H=[];T.forEach(L=>{const X={...L,children:[]};X.comment={...X.comment,id:String(X.comment.id??""),parentId:X.comment.parentId==null?"":String(X.comment.parentId)},X.parent&&(X.parent={...X.parent,comment:{...X.parent.comment,id:String(X.parent.comment.id??"")}}),M.set(X.comment.id,X)}),M.forEach(L=>{const X=L.comment.parentId;if(X){const _e=M.get(String(X));_e?(_e.children.push(L),L.parent||(L.parent=_e)):(console.warn(`Parent comment ${X} not found for comment ${L.comment.id}`),H.push(L))}else H.push(L)});const W=L=>{L.sort((X,_e)=>Number(X.comment.createdAt||0)-Number(_e.comment.createdAt||0)),L.forEach(X=>W(X.children))};return W(H),H};k.useEffect(()=>{s(!!e.liked),i(e.likesCount||0),(async()=>{try{const T=await re.get(`/posts/${e.id}/comments`);Array.isArray(T.data)&&y(T.data)}catch(T){console.warn("Failed to load comments",T)}})()},[e.id,e.liked]),k.useEffect(()=>{function T(W){const L=W.detail||W;!L||L.postId!==e.id||(i(L.likesCount??(X=>X)),L.fromUserId===(h&&h.id)&&s(!!L.liked))}window.addEventListener("app:post:likes:update",T);const M=W=>{const L=W.detail||W;if(!L||L.postId!==e.id)return;const X=I(L.comment);X&&y(_e=>{try{if(_e.some(vu=>String(vu.comment.id)===String(X.comment.id)))return _e}catch{}return[X,..._e]})};window.addEventListener("app:post:commented",M);const H=W=>{const L=W.detail||W;if(!L||!L.user)return;const X=L.user;y(_e=>_e.map(rn=>{try{if(rn.author&&rn.author.id===X.id)return{...rn,author:{...rn.author,...X}}}catch{}return rn}))};return window.addEventListener("app:user:updated",H),()=>{window.removeEventListener("app:post:likes:update",T),window.removeEventListener("app:post:commented",M),window.removeEventListener("app:user:updated",H)}},[e.id,h]),k.useEffect(()=>{function T(M){const H=M.detail||M;if(!H)return;const W=H.postId||H.id||H.post&&H.post.id;if(W&&String(W)===String(e.id))try{if(typeof n=="function")n(e.id);else{B(!0);try{window.appToast&&window.appToast("Bài viết đã bị xóa",{duration:2e3})}catch{}}}catch(L){console.warn("Failed to handle app:post:deleted for post",e.id,L)}}return window.addEventListener("app:post:deleted",T),()=>window.removeEventListener("app:post:deleted",T)},[e.id,n]),k.useEffect(()=>{function T(M){S.current&&!S.current.contains(M.target)&&f(!1)}return document.addEventListener("click",T),()=>document.removeEventListener("click",T)},[]);const V=T=>{let M=T;M&&typeof M=="object"&&typeof M.toNumber=="function"?M=M.toNumber():M=Number(M);const H=new Date(M);if(!H||Number.isNaN(H.getTime()))return"";const L=new Date-H,X=Math.floor(L/(1e3*60*60));return X<1?"Vừa xong":X<24?`${X}h`:H.toLocaleDateString()},q=()=>{try{z(null),v(""),x(""),f(!1),y(T=>T.map(M=>({...M,_showInlineComposer:!1}))),F(!0),setTimeout(()=>F(!1),1800)}catch(T){console.warn("clearReply failed",T)}};k.useEffect(()=>{function T(M){M.key==="Escape"&&q()}return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[]);const G=async()=>{if(window.confirm("Bạn có chắc muốn xóa bài viết này?")){a(!0);try{await re.delete(`/posts/delete/${e.id}`);try{window.appToast?window.appToast("✅ Đã xóa bài viết thành công!"):alert("✅ Đã xóa bài viết thành công!")}catch{}n==null||n(e.id)}catch(T){console.error("❌ Lỗi xóa bài viết:",T);try{window.appToast?window.appToast("❌ Không thể xóa bài viết. Vui lòng thử lại!"):alert("❌ Không thể xóa bài viết. Vui lòng thử lại!")}catch{}}finally{a(!1)}}},de=async()=>{try{const T=await re.post(`/posts/${e.id}/like`);s(T.data.liked),console.log("Like response:",T.data)}catch(T){console.error("❌ Lỗi like bài viết:",T)}},rt=h&&t&&h.username===t.username;return b?l.jsx("div",{className:"bg-white border border-gray-300 rounded-lg overflow-hidden p-4 text-center text-sm text-gray-500",children:"Bài viết đã bị xóa"}):l.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center gap-3 p-4",children:[t!=null&&t.avatarUrl?l.jsx("img",{src:`http://localhost:5000${t.avatarUrl}`,alt:(t==null?void 0:t.displayName)||(t==null?void 0:t.username),className:"w-8 h-8 rounded-full object-cover shadow-avatar",onError:T=>{T.target.style.display="none"}}):l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-avatar",children:(((Cn=t==null?void 0:t.displayName)==null?void 0:Cn[0])||((Rt=t==null?void 0:t.username)==null?void 0:Rt[0])||"U").toUpperCase()}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-sm text-gray-900",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.username)||"Unknown User"}),l.jsx("div",{className:"text-xs text-gray-500",children:V(e==null?void 0:e.createdAt)})]}),rt?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>p(!0),className:"text-gray-400 hover:text-blue-600 transition-colors",title:"Chỉnh sửa bài viết",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),l.jsx("button",{onClick:G,disabled:u,className:"text-red-400 hover:text-red-600 disabled:opacity-50 transition-colors",title:"Xóa bài viết",children:u?l.jsx("div",{className:"w-5 h-5 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}):l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}):l.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),(e==null?void 0:e.imageUrl)&&l.jsx("div",{className:"w-full bg-gray-100",style:{height:"500px"},children:l.jsx("img",{src:`http://localhost:5000${e.imageUrl}`,alt:"Post content",className:"w-full h-full object-cover",onLoad:()=>console.log("✅ Image loaded:",e.imageUrl),onError:T=>{console.error("❌ Image failed to load:",e.imageUrl,T),T.target.style.display="none"}})}),l.jsx("div",{className:"px-4 pt-4",children:(e==null?void 0:e.content)&&l.jsxs("div",{className:"text-sm text-gray-900 leading-relaxed mb-3",children:[l.jsx("span",{className:"font-semibold",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.username)})," ",e.content]})}),l.jsxs("div",{className:"px-4 pb-2",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[l.jsx("button",{onClick:de,className:`hover:opacity-70 transition-opacity ${r?"text-red-500":"text-gray-700"}`,title:"Thích",children:r?l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}):l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),l.jsx("button",{onClick:()=>ge(!Q),className:`hover:opacity-70 transition-opacity ${Q?"text-blue-600":"text-gray-700"}`,title:"Bình luận",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),l.jsx("button",{className:"text-gray-700 hover:opacity-70 transition-opacity",title:"Chia sẻ",children:l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[l.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),l.jsx("polyline",{points:"15,3 21,3 21,9"}),l.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})})]}),l.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[o," lượt thích"]})]}),Q&&l.jsxs("div",{className:"px-4 pb-4 border-t border-gray-100 pt-3",children:[l.jsx("div",{className:"space-y-3",children:D.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"Chưa có bình luận nào."}):P(D).map(T=>l.jsx(nh,{node:T,depth:0,postId:e.id,onReply:M=>{var H,W;return z({id:M.comment.id,authorName:((H=M.author)==null?void 0:H.displayName)||((W=M.author)==null?void 0:W.username)})},onInlineReplyRequest:M=>{y(H=>H.map(W=>{try{return W.comment&&W.comment.id===M?{...W,_showInlineComposer:!0}:{...W,_showInlineComposer:!1}}catch{return W}}))},formatTime:V,onPosted:M=>{y(H=>[...H.map(L=>({...L,_showInlineComposer:!1})),M])}},T.comment.id))}),h&&l.jsxs("form",{onSubmit:async T=>{if(T.preventDefault(),!!m.trim()){g(!0);try{const M={content:m};w&&(M.icon=w),ee&&ee.id&&(M.parentId=ee.id,console.log("🔗 Sending reply with parentId:",ee.id)),console.log("📤 Comment payload:",M);const H=await re.post(`/posts/${e.id}/comments`,M);if(H.data&&H.data.comment){const W=I(H.data.comment);W&&(y(L=>[...L,W]),v(""),x(""),z(null))}}catch(M){console.error("Failed to post comment",M)}finally{g(!1)}}},className:"mt-4",children:[ee&&l.jsxs("div",{className:"mb-2 text-xs text-gray-600 flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{children:"Đang trả lời"}),l.jsx("span",{className:"font-semibold",children:ee.authorName})]}),l.jsx("div",{className:"ml-3",children:l.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),q()},className:"relative z-20 text-sm bg-white text-red-600 px-3 py-1 border border-red-200 hover:bg-red-50 rounded-sm shadow-sm transition-colors",children:"Hủy"})}),_&&l.jsx("div",{className:"ml-2 text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full border border-green-100",children:"Đã hủy"})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:h!=null&&h.avatarUrl?l.jsx("img",{src:`http://localhost:5000${h.avatarUrl}`,alt:h.displayName||h.username,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-sm text-gray-700",children:(((st=h==null?void 0:h.displayName)==null?void 0:st[0])||((Qe=h==null?void 0:h.username)==null?void 0:Qe[0])||"U").toUpperCase()})}),l.jsxs("div",{className:"flex-1 flex gap-2",children:[l.jsx("input",{ref:C,type:"text",value:m,onChange:T=>v(T.target.value),placeholder:"Viết bình luận...",className:"flex-1 bg-gray-100 rounded-full px-4 py-2 text-sm focus:outline-none focus:bg-white focus:ring-2 focus:ring-blue-200"}),l.jsxs("div",{className:"relative overflow-visible",children:[l.jsx("button",{ref:j,type:"button",onClick:T=>{if(T.stopPropagation(),d){f(!1);return}try{const M=j.current.getBoundingClientRect(),H=Math.min(384,window.innerWidth*.9);let W=M.left;W+H>window.innerWidth&&(W=window.innerWidth-H-8);const L=M.bottom+8;O({top:L,left:W,width:H}),f(!0)}catch{f(H=>!H)}},className:"px-2 py-1 rounded-full hover:bg-gray-100",title:"Chọn cảm xúc",children:w||"😊"}),d&&R&&l.jsxs("div",{ref:S,className:"fixed bg-white border border-gray-200 rounded-md shadow-lg p-3",style:{top:R.top+"px",left:R.left+"px",width:R.width+"px",maxHeight:"60vh",zIndex:9999},children:[l.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Chọn cảm xúc"}),l.jsx("div",{className:"max-h-60 overflow-y-auto overflow-x-hidden pr-6",children:l.jsx("div",{className:"grid grid-cols-8 gap-2",children:Xn.map(T=>l.jsx("button",{type:"button",onClick:M=>{M.stopPropagation();try{if(C.current&&typeof C.current.selectionStart=="number"){const H=C.current,W=H.selectionStart,L=H.selectionEnd,X=m.slice(0,W)+T.symbol+m.slice(L);v(X),requestAnimationFrame(()=>{try{H.focus();const _e=W+T.symbol.length;H.setSelectionRange(_e,_e)}catch{}})}else v(H=>H+T.symbol)}catch{v(W=>W+T.symbol)}x(T.symbol)},className:"w-12 h-12 rounded-md flex items-center justify-center text-2xl transition-colors hover:bg-gray-100",title:T.label,children:T.symbol},T.key))})})]})]}),l.jsx("button",{type:"submit",disabled:N||!m.trim(),className:"bg-blue-500 text-white px-4 py-2 rounded-sm text-sm font-medium hover:bg-blue-600 disabled:opacity-60 disabled:cursor-not-allowed transition-colors",children:N?"...":"Gửi"})]})]})]})]}),l.jsx(Sg,{post:e,author:t,isOpen:c,onClose:()=>p(!1),onPostUpdated:()=>{window.dispatchEvent(new CustomEvent("app:post:updated",{detail:{postId:e.id}}))}})]})}function nh({node:e,depth:t=0,onReply:n,formatTime:r,onInlineReplyRequest:s,onPosted:o,postId:i}){var u,a,c,p,h,D,y,m,v,N,g,d,f,w,x,C,S,j,R;return l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 flex-shrink-0",children:(u=e.author)!=null&&u.avatarUrl?l.jsx("img",{src:`http://localhost:5000${e.author.avatarUrl}`,alt:((a=e.author)==null?void 0:a.displayName)||((c=e.author)==null?void 0:c.username),className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-sm text-gray-700",children:((((p=e.author)==null?void 0:p.displayName)||((h=e.author)==null?void 0:h.username)||"U")[0]||"U").toUpperCase()})}),l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"bg-gray-50 rounded-2xl px-3 py-2",children:e.parent?l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs text-blue-600 mb-2 font-medium bg-blue-50 px-2 py-1 rounded",children:[l.jsx("span",{className:"font-semibold",children:((D=e.author)==null?void 0:D.displayName)||((y=e.author)==null?void 0:y.username)}),l.jsx("span",{className:"mx-1",children:"→"}),l.jsx("span",{className:"font-semibold",children:((m=e.parent.author)==null?void 0:m.displayName)||((v=e.parent.author)==null?void 0:v.username)})]}),l.jsxs("div",{className:"text-xs text-gray-500 mb-2 border-l-2 border-gray-300 pl-2 italic",children:['"',(g=(N=e.parent.comment)==null?void 0:N.content)==null?void 0:g.substring(0,50),((f=(d=e.parent.comment)==null?void 0:d.content)==null?void 0:f.length)>50?"...":"",'"']}),l.jsxs("div",{className:"text-sm text-gray-800 font-medium flex items-center gap-2",children:[(w=e.comment)!=null&&w.icon?Ga(e.comment.icon):null,l.jsx("div",{children:(x=e.comment)==null?void 0:x.content})]}),l.jsxs("div",{className:"mt-2 text-xs text-gray-400 flex items-center gap-3",children:[(()=>{var Q;const O=r((Q=e.comment)==null?void 0:Q.createdAt);return O?l.jsx("div",{children:O}):null})(),l.jsx("div",{children:l.jsx("button",{onClick:()=>s(e.comment.id),className:"text-blue-600 hover:underline text-xs",children:"Trả lời"})})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm text-gray-800 flex items-center gap-2",children:[(C=e.comment)!=null&&C.icon?Ga(e.comment.icon):null,l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold mr-2",children:((S=e.author)==null?void 0:S.displayName)||((j=e.author)==null?void 0:j.username)}),l.jsx("span",{children:(R=e.comment)==null?void 0:R.content})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-gray-400 flex items-center gap-3",children:[(()=>{var Q;const O=r((Q=e.comment)==null?void 0:Q.createdAt);return O?l.jsx("div",{children:O}):null})(),l.jsx("div",{children:l.jsx("button",{onClick:()=>s(e.comment.id),className:"text-blue-600 hover:underline text-xs",children:"Trả lời"})})]})]})})})]}),(()=>{const ee=t===0?44:0;return l.jsxs("div",{style:{marginLeft:ee},className:"mt-2",children:[e.children&&e.children.map(z=>l.jsx(nh,{node:z,depth:t+1,onReply:n,formatTime:r,onInlineReplyRequest:s,onPosted:o,postId:i},z.comment.id)),e.comment&&e._showInlineComposer?l.jsx(jg,{postId:i,parentId:e.comment.id,onPosted:z=>{try{o&&o(z)}catch(ne){console.error("onPosted handler failed",ne)}},onCancel:()=>{try{s&&s(null)}catch(z){console.warn("Failed to cancel inline composer",z)}}}):null]})})()]})}function _g(){const{user:e,updateTrigger:t}=nt(),[n,r]=k.useState([]),[s,o]=k.useState(!0);k.useEffect(()=>{i();const c=()=>{i()};window.addEventListener("app:navigate:home",c);const p=y=>{const m=y.detail||y;!m||!m.post||r(v=>v.some(g=>g.post.id===m.post.id)?v:[m,...v])};window.addEventListener("app:post:created",p);const h=y=>{const m=y.detail||y;if(console.debug("Feed received app:post:deleted",m),!m)return;const v=m.postId||m.id||m.post&&m.post.id;v&&((m.deletedBy||m.deletedByUsername)&&console.debug(`Post ${v} deleted by ${m.deletedByUsername||m.deletedBy}`),m.deletedAt&&console.debug(`deletedAt: ${new Date(m.deletedAt).toISOString()}`),r(N=>N.filter(g=>g.post.id!==v)))},D=y=>{const m=y.detail||y;if(console.debug("Feed received app:post:updated",m),!m)return;if(!(m.postId||m.post&&m.post.id||m.id||null)){i();return}i()};return window.addEventListener("app:post:deleted",h),window.addEventListener("app:post:updated",D),window.dispatchEvent(new CustomEvent("app:navigate:home")),()=>{window.removeEventListener("app:navigate:home",c),window.removeEventListener("app:post:created",p),window.removeEventListener("app:post:deleted",h),window.removeEventListener("app:post:updated",D)}},[e,t]);const i=async()=>{try{const c=await re.get("/posts/feed");console.debug("fetchPosts: server response:",c.data),r(c.data)}catch(c){console.error("Error fetching posts:",c)}finally{o(!1)}},u=()=>{i()},a=c=>{r(p=>p.filter(h=>h.post.id!==c))};return s?l.jsx("div",{className:"w-full",children:l.jsx("div",{className:"animate-pulse space-y-6",children:[1,2,3].map(c=>l.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),l.jsx("div",{className:"h-96 bg-gray-200 rounded"})]},c))})}):l.jsxs("div",{id:"home-feed",className:"w-full",children:[e&&l.jsx(Eg,{onPostCreated:u}),l.jsx("div",{className:"space-y-6",children:n.length===0?l.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 text-center shadow-md ring-1 ring-gray-100",children:l.jsxs("div",{className:"mx-auto max-w-md",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M21 12c0 4.418-4.03 8-9 8a9.72 9.72 0 01-4-.84L3 20l1.16-4.16A7.72 7.72 0 013 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Hiện chưa có bài viết"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Hãy là người đầu tiên chia sẻ điều gì đó với cộng đồng."}),e?l.jsx("div",{children:l.jsx("button",{onClick:()=>{try{const c=document.getElementById("composer-textarea");if(c){c.focus();const h=c.value?c.value.length:0;try{c.setSelectionRange(h,h)}catch{}}window.dispatchEvent(new CustomEvent("app:focus:create"));const p=document.getElementById("home-feed");p&&p.scrollIntoView({behavior:"smooth",block:"start"})}catch{}},className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 transition",children:"Tạo bài viết"})}):null]})}):n.map(c=>l.jsx(bg,{post:c.post,author:c.author,onDelete:a},c.post.id))})]})}const Bg=()=>{var v,N,g;const{user:e,updateTrigger:t}=nt(),[n,r]=k.useState([]),[s,o]=k.useState(!1),[i,u]=k.useState(null),[a,c]=k.useState(new Set),[p,h]=k.useState(null),D=async d=>{o(!0),u(null);try{const f=await re.get("/users/suggestions"),x=(Array.isArray(f.data)?f.data:[]).filter(C=>!(!C||e!=null&&e.id&&C.id&&C.id===e.id||e!=null&&e.username&&C.username&&C.username===e.username));d!=null&&d.aborted||r(x)}catch(f){console.error("Failed to load suggestions",f),d!=null&&d.aborted||u("Không thể tải gợi ý")}finally{d!=null&&d.aborted||o(!1)}},y=async d=>{try{const f=await re.get("/users/following");!(d!=null&&d.aborted)&&f.data&&Array.isArray(f.data.following)&&c(new Set(f.data.following.map(w=>String(w))))}catch{}};k.useEffect(()=>{const d={aborted:!1};D(d),y(d);const f=x=>{try{const C=x.detail||{};console.log("sidebar onFollow event:",C),C.followerId&&String(C.followerId)===String(e==null?void 0:e.id)&&c(S=>{const j=new Set(S);return C.followingId&&j.add(String(C.followingId)),j})}catch(C){console.warn("Sidebar failed to process app:user:follow",C)}},w=x=>{try{const C=x.detail||{};console.log("sidebar onUnfollow event:",C),C.followerId&&String(C.followerId)===String(e==null?void 0:e.id)&&c(S=>{const j=new Set(S);return C.followingId&&j.delete(String(C.followingId)),j})}catch(C){console.warn("Sidebar failed to process app:user:unfollow",C)}};return window.addEventListener("app:user:follow",f),window.addEventListener("app:user:unfollow",w),()=>{d.aborted=!0,window.removeEventListener("app:user:follow",f),window.removeEventListener("app:user:unfollow",w)}},[e==null?void 0:e.id,t]);const m=async d=>{const f=String(d),w=a.has(f);console.log("handleFollow:",{userId:d,normalizedUserId:f,isFollowing:w,following:Array.from(a)}),c(x=>{const C=new Set(x);return w?C.delete(f):C.add(f),C});try{w?await re.delete(`/users/follow/${f}`):await re.post(`/users/follow/${f}`);try{const x={followerId:e==null?void 0:e.id,followingId:f},C=w?"app:user:unfollow":"app:user:follow";window.dispatchEvent(new CustomEvent(C,{detail:x}))}catch{}}catch(x){console.error("Follow toggle failed",x),c(C=>{const S=new Set(C);return w?S.add(f):S.delete(f),S})}};return e?l.jsxs("div",{className:"w-full space-y-6",children:[l.jsx("div",{className:"bg-white border border-gray-300 rounded-lg p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[e!=null&&e.avatarUrl?l.jsx("img",{src:`http://localhost:5000${e.avatarUrl}`,alt:"Avatar",className:"w-16 h-16 rounded-full object-cover shadow-avatar",onError:d=>{try{d.target.style.display="none"}catch{}}}):l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-avatar",children:((g=((v=e==null?void 0:e.displayName)==null?void 0:v[0])||((N=e==null?void 0:e.username)==null?void 0:N[0]))==null?void 0:g.toUpperCase())||"U"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-semibold text-lg text-gray-900 truncate",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.username)||"Unknown"}),l.jsxs("div",{className:"text-sm text-gray-600 truncate",children:["@",e==null?void 0:e.username]})]})]},t)}),l.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Gợi ý kết nối"}),s?l.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):i?l.jsx("div",{className:"text-sm text-red-500",children:i}):l.jsx("div",{className:"space-y-4",children:n.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No suggestions available."}):n.filter(d=>{const f=d.id||d.username;return!a.has(f)}).map(d=>{var f,w,x,C;return l.jsxs("div",{className:"flex items-center gap-4 p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[l.jsx("div",{className:"relative w-12 h-12",children:d!=null&&d.avatarUrl?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:`http://localhost:5000${d.avatarUrl}`,alt:d.displayName||d.username,className:"w-12 h-12 rounded-full object-cover shadow-avatar",onError:S=>{try{S.target.style.display="none";const j=S.target.nextElementSibling;j&&(j.style.display="flex")}catch{}}}),l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full flex items-center justify-center text-white font-bold shadow-avatar absolute top-0 left-0",style:{display:"none"},children:(((f=d.displayName)==null?void 0:f[0])||((w=d.username)==null?void 0:w[0])||"U").toUpperCase()})]}):l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full flex items-center justify-center text-white font-bold shadow-avatar",children:(((x=d.displayName)==null?void 0:x[0])||((C=d.username)==null?void 0:C[0])||"U").toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-semibold text-gray-900 truncate",children:d.displayName||d.username}),l.jsxs("div",{className:"text-sm text-gray-500 truncate",children:["@",d.username]})]}),(()=>{const S=String(d.id||d.username),j=a.has(String(S));return l.jsx("button",{onClick:()=>m(S),onMouseEnter:()=>h(S),onMouseLeave:()=>h(null),className:`flex-shrink-0 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ease-in-out transform min-w-[100px] ${j?"bg-gray-200 text-gray-800 hover:bg-red-500 hover:text-white hover:scale-105":"bg-blue-500 text-white hover:bg-blue-600"}`,children:j?p===S?"Bỏ theo dõi":"Đang theo dõi":"Theo dõi"})})()]},d.id||d.username)})})]})]}):l.jsx("div",{className:"w-full",children:l.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-6 text-center",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Chào mừng đến với mạng xã hội"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Đăng nhập để xem bài viết và kết nối với bạn bè!"})]})})},Ag=()=>l.jsx(Bg,{});class Rg extends Mt.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error captured by ErrorBoundary:",t,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gray-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-xl w-full text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Đã xảy ra lỗi"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ứng dụng gặp vấn đề khi hiển thị. Bạn có thể thử tải lại trang."}),l.jsx("div",{className:"flex justify-center gap-4",children:l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Tải lại"})}),l.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[l.jsx("summary",{children:"Chi tiết lỗi (debug)"}),l.jsx("pre",{className:"whitespace-pre-wrap mt-2",children:String(this.state.error)})]})]})}):this.props.children}}function Tg(){return l.jsx(i0,{children:l.jsx(Rg,{children:l.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[l.jsx(Cg,{}),l.jsx("div",{className:"pt-20 mt-[30px] pb-12 flex justify-center px-8",children:l.jsxs("div",{className:"flex max-w-7xl w-full gap-10",children:[l.jsx("div",{className:"flex-1 max-w-3xl",children:l.jsx(_g,{})}),l.jsx("div",{className:"w-96 flex-shrink-0",children:l.jsx(Ag,{})})]})})]})})})}let ws=null;function Lg(){const[e,t]=k.useState([]);return k.useEffect(()=>(window.appToast=(n,r={})=>{const s=Date.now()+Math.random().toString(36).slice(2,8);if(t(o=>[...o,{id:s,message:n,...r}]),r.duration!==0){const o=r.duration||3e3;setTimeout(()=>{t(i=>i.filter(u=>u.id!==s))},o)}},()=>{try{delete window.appToast}catch{}}),[]),l.jsxs("div",{className:"fixed top-6 right-6 z-50 flex flex-col gap-3 items-end pointer-events-none",children:[e.map(n=>l.jsx("div",{className:"pointer-events-auto bg-blue-600 text-white px-4 py-3 rounded-lg shadow-2xl max-w-md w-full border border-blue-700/40 ring-1 ring-blue-700/10 transform transition-all duration-200",style:{animation:"toast-in 220ms ease-out"},children:l.jsx("div",{className:"text-sm font-medium",children:n.message})},n.id)),l.jsx("style",{children:`
        @keyframes toast-in {
          from { opacity: 0; transform: translateY(-6px) scale(0.98); }
          to { opacity: 1; transform: translateY(0) scale(1); }
        }
      `})]})}function Pg(){if(ws)return;ws=document.createElement("div"),document.body.appendChild(ws),pf(ws).render(l.jsx(Lg,{}))}Pg();hi.createRoot(document.getElementById("root")).render(l.jsx(Tg,{}));
